define(["jquery","Astound_Affirm/js/model/aslowas","jquery/ui"],function($,aslowas){"use strict"
var self;$.widget('mage.affirmWidget',{options:{},_create:function(){self=this;var priceBox=$('.price-box');if(typeof affirm=="undefined"){$.when(aslowas.loadScript(self.options)).done(function(){if(priceBox.length&&self.options.backorders_options!=='undefined'){priceBox.on('updatePrice',self.updatePriceHandler);}});}else if(priceBox.length&&self.options.backorders_options!=='undefined'){priceBox.on('updatePrice',self.updatePriceHandler);}},updatePriceHandler:function(event){aslowas.processBackordersVisibility(self.options.backorders_options);}});return $.mage.affirmWidget});