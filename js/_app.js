(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{2:function(e,t,n){n("74v/"),e.exports=n("nOHt")},"6jK6":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("q1tI"),i=n.n(r),a=n("XOff"),o=n.n(a),s=(n("6Fm8"),i.a.createElement),c=function(e){var t=e.pageData,n=e.children;if(t){var r=t.content,i=r.docTypeAlias,a=r.properties.section,c=r.id;return s("div",{className:o()("sk-app",i,a),"data-page-id":c},n)}return s("div",{className:"sk-app"},n)}},"74v/":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n("cha2")}])},"7DA+":function(e,t,n){"use strict";var r=n("q1tI"),i=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},s=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},u={storeKey:"__NEXT_REDUX_STORE__",debug:!1,serializeState:function(e){return e},deserializeState:function(e){return e}};t.a=function(e,t){var n=a(a({},u),t),l="undefined"===typeof window,f=function(r){var i=r.initialState,o=r.ctx,s=n.storeKey,c=function(){return e(n.deserializeState(i),a(a(a({},o),t),{isServer:l}))};return l?c():(s in window||(window[s]=c()),window[s])};return function(e){var t;return(t=function(t){function o(e,r){var i=t.call(this,e,r)||this,a=e.initialState;return n.debug&&console.log("4. WrappedApp.render created new store with initialState",a),i.store=f({ctx:r.ctx,initialState:a}),i}return i(o,t),o.prototype.render=function(){var t=this.props,n=t.initialProps,i=(t.initialState,c(t,["initialProps","initialState"]));return r.createElement(e,a({},i,n,{store:this.store}))},o}(r.Component)).displayName="withRedux("+(e.displayName||e.name||"App")+")",t.getInitialProps=function(t){return o(void 0,void 0,void 0,(function(){var r,i;return s(this,(function(a){switch(a.label){case 0:if(!t)throw new Error("No app context");if(!t.ctx)throw new Error("No page context");return r=f({ctx:t.ctx}),n.debug&&console.log("1. WrappedApp.getInitialProps wrapper got the store with state",r.getState()),t.ctx.store=r,t.ctx.isServer=l,i={},"getInitialProps"in e?[4,e.getInitialProps.call(e,t)]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return n.debug&&console.log("3. WrappedApp.getInitialProps has store state",r.getState()),[2,{isServer:l,initialState:l?n.serializeState(r.getState()):r.getState(),initialProps:i}]}}))}))},t}}},"8Bbg":function(e,t,n){e.exports=n("B5Ud")},"8Chc":function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},c=this;t.__esModule=!0;var u,l=s(n("q1tI")),f=n("pZSV"),p="undefined"!==typeof window;t.withApplicationInsights=function(e){return function(t){var n;return(n=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return r(i,n),i.prototype.componentDidMount=function(){this.initializeAppInsights(),this.trackPageView()},i.prototype.componentDidCatch=function(e){u&&u.trackException({exception:e})},i.prototype.initializeAppInsights=function(){p&&e.isEnabled&&!u&&((u=new f.ApplicationInsights({config:e})).loadAppInsights(),window.appInsights=u)},i.prototype.trackPageView=function(){if(u){var e=this.props.Component.displayName||this.props.Component.name||location.pathname,t={route:this.props.router.route};if(this.props.router.query)for(var n in this.props.router.query)t["query."+n]=this.props.router.query[n];u.trackPageView({name:e,properties:t})}},i.prototype.render=function(){return this.trackPageView(),l.createElement(t,this.props)},i}(l.Component)).getInitialProps=function(e){return a(c,void 0,void 0,(function(){var n,r;return o(this,(function(a){switch(a.label){case 0:return n={pageProps:{}},t.getInitialProps?(r=[{},n],[4,t.getInitialProps(e)]):[3,2];case 1:n=i.apply(void 0,r.concat([a.sent()])),a.label=2;case 2:return[2,i({},n)]}}))}))},n}}},B5Ud:function(e,t,n){"use strict";n("pIFo"),n("a1Th"),n("h7Nl"),n("I5cv"),n("91GP");var r=n("/GRZ"),i=n("i2R6"),a=n("48fX"),o=n("tCBg"),s=n("T0f4");n("VRzm"),n("Btvt");var c=n("vJKn");function u(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n("ls82");var l=n("AroE");t.__esModule=!0,t.Container=function(e){0;return e.children},t.createUrl=g,t.default=void 0;var f=l(n("q1tI")),p=n("g/15");function d(e){var t,n,r;return c.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.Component,n=e.ctx,i.next=3,c.awrap((0,p.loadGetInitialProps)(t,n));case 3:return r=i.sent,i.abrupt("return",{pageProps:r});case 5:case"end":return i.stop()}}),null,null,null,Promise)}t.AppInitialProps=p.AppInitialProps;var h=function(e){a(c,e);var t,n=(t=c,function(){var e,n=s(t);if(u()){var r=s(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return o(this,e)});function c(){return r(this,c),n.apply(this,arguments)}return i(c,[{key:"componentDidCatch",value:function(e,t){throw e}},{key:"render",value:function(){var e=this.props,t=e.router,n=e.Component,r=e.pageProps,i=e.__N_SSG,a=e.__N_SSP;return f.default.createElement(n,Object.assign({},r,i||a?{}:{url:g(t)}))}}]),c}(f.default.Component);function g(e){var t=e.pathname,n=e.asPath,r=e.query;return{get query(){return r},get pathname(){return t},get asPath(){return n},back:function(){e.back()},push:function(t,n){return e.push(t,n)},pushTo:function(t,n){var r=n?t:"",i=n||t;return e.push(r,i)},replace:function(t,n){return e.replace(t,n)},replaceTo:function(t,n){var r=n?t:"",i=n||t;return e.replace(r,i)}}}t.default=h,h.origGetInitialProps=d,h.getInitialProps=d},BE74:function(e,t,n){"use strict";(function(e){n("HAE/"),n("WLL4"),n("jm62"),n("8+KV"),n("0l/t"),n("ioFf"),n("rGqo"),n("yt8O"),n("RW0V"),n("a1Th"),n("h7Nl"),n("I5cv"),n("VRzm"),n("Btvt");var r=n("X3QS"),i=n.n(r),a=n("CubX"),o=(n("DaNf"),n("UAZP")),s=n("Sm7O"),c=n("ld+B"),u=n("MqAf"),l=n("94rk"),f=n("q1tI"),p=n.n(f),d=n("8Bbg"),h=n.n(d),g=n("ZqbR"),v=n("gEN6"),m=n("7DA+"),y=n("8Chc"),b=n("L6Dr"),x=n.n(b),_=(n("Cmw3"),n("6jK6")),S=n("RsbB"),I=n("JfNZ"),w=p.a.createElement;function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var C=function(e){Object(c.a)(r,e);var t,n=(t=r,function(){var e,n=Object(l.a)(t);if(E()){var r=Object(l.a)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Object(u.a)(this,e)});function r(){return Object(o.a)(this,r),n.apply(this,arguments)}return Object(s.a)(r,[{key:"componentDidUpdate",value:function(e){var t=this.props.locale;t!==e.locale&&x.a.locale(t)}},{key:"componentDidMount",value:function(){var e=this.props.locale;x.a.locale(e)}},{key:"render",value:function(){var e=this.props,t=e.Component,n=e.pageProps,r=e.store;return w(g.Provider,{store:r},w(v.IntlProvider,null,w(_.a,n,w(t,n))))}}],[{key:"getInitialProps",value:function(e){var t,n,r,a;return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.Component,n=e.ctx,(r=n.query.shopifyData)&&n.store.dispatch(Object(I.c)(O({},r))),!t.getInitialProps){o.next=9;break}return o.next=6,i.a.awrap(t.getInitialProps(n));case 6:o.t0=o.sent,o.next=10;break;case 9:o.t0={};case 10:return a=o.t0,o.abrupt("return",{pageProps:a});case 12:case"end":return o.stop()}}),null,null,null,Promise)}}]),r}(h.a),D=Object(g.connect)((function(e){return{locale:e.intl.locale}}))(C),P=e.env.APPINSIGHTS_INSTRUMENTATIONKEY?Object(y.withApplicationInsights)({instrumentationKey:e.env.APPINSIGHTS_INSTRUMENTATIONKEY,disableFetchTracking:!1,isEnabled:!0})(Object(m.a)(S.a)(D)):Object(m.a)(S.a)(D);t.a=P}).call(this,n("8oxB"))},Cmw3:function(e,t,n){!function(e){"use strict";var t=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,n=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i];e.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsRegex:t,monthsShortRegex:t,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n("L6Dr"))},QxAG:function(e,t,n){"use strict";var r=n("7nvb").compose;t.__esModule=!0,t.composeWithDevTools=function(){if(0!==arguments.length)return"object"===typeof arguments[0]?r:r.apply(null,arguments)},t.devToolsEnhancer=function(){return function(e){return e}}},RsbB:function(e,t,n){"use strict";var r=n("7nvb"),i=function(e){return"@@redux-saga/"+e},a=i("CANCEL_PROMISE"),o=i("CHANNEL_END"),s=i("IO"),c=i("MATCH"),u=i("MULTICAST"),l=i("SAGA_ACTION"),f=i("SELF_CANCELLATION"),p=i("TASK"),d=i("TASK_CANCEL"),h=i("TERMINATE"),g=i("LOCATION"),v=n("aPrC"),m=n("ji9j"),y=function(e){return null===e||void 0===e},b=function(e){return null!==e&&void 0!==e},x=function(e){return"function"===typeof e},_=function(e){return"string"===typeof e},S=Array.isArray,I=function(e){return e&&x(e.then)},w=function(e){return e&&x(e.next)&&x(e.throw)},T=function e(t){return t&&(_(t)||C(t)||x(t)||S(t)&&t.every(e))},O=function(e){return e&&x(e.take)&&x(e.close)},E=function(e){return x(e)&&e.hasOwnProperty("toString")},C=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},D=function(e){return O(e)&&e[u]};var P=function(e,t){var n;void 0===t&&(t=!0);var r=new Promise((function(r){n=setTimeout(r,e,t)}));return r[a]=function(){clearTimeout(n)},r},A=function(e){return function(){return e}}(!0),k=function(){};var N=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var j=function(e,t){Object(v.a)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))},R=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))};function L(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function M(e){var t=!1;return function(){t||(t=!0,e())}}var U=function(e){throw e},F=function(e){return{value:e,done:!0}};function q(e,t,n){void 0===t&&(t=U),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:F,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function B(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var V=function(e){return Array.apply(null,new Array(e))},H=function(e){return function(t){return e(Object.defineProperty(t,l,{value:!0}))}},z=function(e){return e===h},G=function(e){return e===d},W=function(e){return z(e)||G(e)};function K(e,t){var n=Object.keys(e),r=n.length;var i,a=0,o=S(e)?V(r):{},s={};return n.forEach((function(e){var n=function(n,s){i||(s||W(n)?(t.cancel(),t(n,s)):(o[e]=n,++a===r&&(i=!0,t(o))))};n.cancel=k,s[e]=n})),t.cancel=function(){i||(i=!0,n.forEach((function(e){return s[e].cancel()})))},s}function X(e){return{name:e.name||"anonymous",location:Y(e)}}function Y(e){return e[g]}var Q="Channel's Buffer overflow!",Z=1,J=3,$=4;function ee(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,i=0,a=0,o=function(t){n[i]=t,i=(i+1)%e,r++},s=function(){if(0!=r){var t=n[a];return n[a]=null,r--,a=(a+1)%e,t}},c=function(){for(var e=[];r;)e.push(s());return e};return{isEmpty:function(){return 0==r},put:function(s){var u;if(r<e)o(s);else switch(t){case Z:throw new Error(Q);case J:n[i]=s,a=i=(i+1)%e;break;case $:u=2*e,n=c(),r=n.length,i=n.length,a=0,n.length=u,e=u,o(s)}},take:s,flush:c}}var te=function(e){return ee(e,$)},ne="TAKE",re="PUT",ie="ALL",ae="RACE",oe="CALL",se="CPS",ce="FORK",ue="JOIN",le="CANCEL",fe="SELECT",pe="ACTION_CHANNEL",de="CANCELLED",he="FLUSH",ge="GET_CONTEXT",ve="SET_CONTEXT",me=function(e,t){var n;return(n={})[s]=!0,n.combinator=!1,n.type=e,n.payload=t,n},ye=function(e){return me(ce,Object(v.a)({},e.payload,{detached:!0}))};function be(e,t){return void 0===e&&(e="*"),T(e)?me(ne,{pattern:e}):D(e)&&b(t)&&T(t)?me(ne,{channel:e,pattern:t}):O(e)?me(ne,{channel:e}):void 0}function xe(e,t){return y(t)&&(t=e,e=void 0),me(re,{channel:e,action:t})}function _e(e){var t=me(ie,e);return t.combinator=!0,t}function Se(e,t){var n,r=null;return x(e)?n=e:(S(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&_(n)&&x(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function Ie(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return me(oe,Se(e,n))}function we(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return me(ce,Se(e,n))}function Te(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ye(we.apply(void 0,[e].concat(n)))}function Oe(e){void 0===e&&(e=N);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return me(fe,{selector:e,args:n})}function Ee(e,t){return me(pe,{pattern:e,buffer:t})}var Ce=Ie.bind(null,P);function De(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var Pe=De,Ae=[],ke=0;function Ne(e){try{Le(),e()}finally{Me()}}function je(e){Ae.push(e),ke||(Le(),Ue())}function Re(e){try{return Le(),e()}finally{Ue()}}function Le(){ke++}function Me(){ke--}function Ue(){var e;for(Me();!ke&&void 0!==(e=Ae.shift());)Ne(e)}var Fe=function(e){return function(t){return e.some((function(e){return ze(e)(t)}))}},qe=function(e){return function(t){return e(t)}},Be=function(e){return function(t){return t.type===String(e)}},Ve=function(e){return function(t){return t.type===e}},He=function(){return A};function ze(e){var t="*"===e?He:_(e)?Be:S(e)?Fe:E(e)?Be:x(e)?qe:C(e)?Ve:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var Ge={type:o},We=function(e){return e&&e.type===o};function Ke(e){void 0===e&&(e=te());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(Ge):e.isEmpty()?(n.push(r),r.cancel=function(){L(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(Ge):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,i=e.length;r<i;r++){(0,e[r])(Ge)}}}}}function Xe(){var e=function(){var e,t=!1,n=[],r=n,i=function(){r===n&&(r=n.slice())},a=function(){t=!0;var e=n=r;r=[],e.forEach((function(e){e(Ge)}))};return(e={})[u]=!0,e.put=function(e){if(!t)if(We(e))a();else for(var i=n=r,o=0,s=i.length;o<s;o++){var u=i[o];u[c](e)&&(u.cancel(),u(e))}},e.take=function(e,n){void 0===n&&(n=He),t?e(Ge):(e[c]=n,i(),r.push(e),e.cancel=M((function(){i(),L(r,e)})))},e.close=a,e}(),t=e.put;return e.put=function(e){e[l]?t(e):je((function(){t(e)}))},e}var Ye=0,Qe=1,Ze=2,Je=3;function $e(e,t){var n=e[a];x(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var et,tt=0,nt=function(){return++tt};function rt(e){e.isRunning()&&e.cancel()}var it=((et={})[ne]=function(e,t,n){var r=t.channel,i=void 0===r?e.channel:r,a=t.pattern,o=t.maybe,s=function(e){e instanceof Error?n(e,!0):!We(e)||o?n(e):n(h)};try{i.take(s,b(a)?ze(a):null)}catch(c){return void n(c,!0)}n.cancel=s.cancel},et[re]=function(e,t,n){var r=t.channel,i=t.action,a=t.resolve;je((function(){var t;try{t=(r?r.put:e.dispatch)(i)}catch(o){return void n(o,!0)}a&&I(t)?$e(t,n):n(t)}))},et[ie]=function(e,t,n,r){var i=r.digestEffect,a=tt,o=Object.keys(t);if(0!==o.length){var s=K(t,n);o.forEach((function(e){i(t[e],a,s[e],e)}))}else n(S(t)?[]:{})},et[ae]=function(e,t,n,r){var i=r.digestEffect,a=tt,o=Object.keys(t),s=S(t)?V(o.length):{},c={},u=!1;o.forEach((function(e){var t=function(t,r){u||(r||W(t)?(n.cancel(),n(t,r)):(n.cancel(),u=!0,s[e]=t,n(s)))};t.cancel=k,c[e]=t})),n.cancel=function(){u||(u=!0,o.forEach((function(e){return c[e].cancel()})))},o.forEach((function(e){u||i(t[e],a,c[e],e)}))},et[oe]=function(e,t,n,r){var i=t.context,a=t.fn,o=t.args,s=r.task;try{var c=a.apply(i,o);if(I(c))return void $e(c,n);if(w(c))return void gt(e,c,s.context,tt,X(a),!1,n);n(c)}catch(u){n(u,!0)}},et[se]=function(e,t,n){var r=t.context,i=t.fn,a=t.args;try{var o=function(e,t){y(e)?n(t):n(e,!0)};i.apply(r,a.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(s){n(s,!0)}},et[ce]=function(e,t,n,r){var i=t.context,a=t.fn,o=t.args,s=t.detached,c=r.task,u=function(e){var t=e.context,n=e.fn,r=e.args;try{var i=n.apply(t,r);if(w(i))return i;var a=!1;return q((function(e){return a?{value:e,done:!0}:(a=!0,{value:i,done:!I(i)})}))}catch(o){return q((function(){throw o}))}}({context:i,fn:a,args:o}),l=function(e,t){return e.isSagaIterator?{name:e.meta.name}:X(t)}(u,a);Re((function(){var t=gt(e,u,c.context,tt,l,s,void 0);s?n(t):t.isRunning()?(c.queue.addTask(t),n(t)):t.isAborted()?c.queue.abort(t.error()):n(t)}))},et[ue]=function(e,t,n,r){var i=r.task,a=function(e,t){if(e.isRunning()){var n={task:i,cb:t};t.cancel=function(){e.isRunning()&&L(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(S(t)){if(0===t.length)return void n([]);var o=K(t,n);t.forEach((function(e,t){a(e,o[t])}))}else a(t,n)},et[le]=function(e,t,n,r){var i=r.task;t===f?rt(i):S(t)?t.forEach(rt):rt(t),n()},et[fe]=function(e,t,n){var r=t.selector,i=t.args;try{n(r.apply(void 0,[e.getState()].concat(i)))}catch(a){n(a,!0)}},et[pe]=function(e,t,n){var r=t.pattern,i=Ke(t.buffer),a=ze(r),o=function t(n){We(n)||e.channel.take(t,a),i.put(n)},s=i.close;i.close=function(){o.cancel(),s()},e.channel.take(o,a),n(i)},et[de]=function(e,t,n,r){n(r.task.isCancelled())},et[he]=function(e,t,n){t.flush(n)},et[ge]=function(e,t,n,r){n(r.task.context[t])},et[ve]=function(e,t,n,r){var i=r.task;j(i.context,t),n()},et);function at(e,t){return e+"?"+t}function ot(e){var t=e.name,n=e.location;return n?t+"  "+at(n.fileName,n.lineNumber):t}function st(e){var t=R((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var ct=null,ut=[],lt=function(e){e.crashedEffect=ct,ut.push(e)},ft=function(){ct=null,ut.length=0},pt=function(e){ct=e},dt=function(){var e=ut[0],t=ut.slice(1),n=e.crashedEffect?function(e){var t=Y(e);return t?t.code+"  "+at(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+ot(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+ot(e.meta)})),[st(ut)]).join("\n")};function ht(e,t,n,r,i,a,o){var s;void 0===o&&(o=k);var c,u,l=Ye,f=null,h=[],g=Object.create(n),v=function(e,t,n){var r,i=[],a=!1;function o(e){t(),c(),n(e,!0)}function s(t){i.push(t),t.cont=function(s,c){a||(L(i,t),t.cont=k,c?o(s):(t===e&&(r=s),i.length||(a=!0,n(r))))}}function c(){a||(a=!0,i.forEach((function(e){e.cont=k,e.cancel()})),i=[])}return s(e),{addTask:s,cancelAll:c,abort:o,getTasks:function(){return i}}}(t,(function(){h.push.apply(h,v.getTasks().map((function(e){return e.meta.name})))}),m);function m(t,n){if(n){if(l=Ze,lt({meta:i,cancelledTasks:h}),y.isRoot){var r=dt();ft(),e.onError(t,{sagaStack:r})}u=t,f&&f.reject(t)}else t===d?l=Qe:l!==Qe&&(l=Je),c=t,f&&f.resolve(t);y.cont(t,n),y.joiners.forEach((function(e){e.cb(t,n)})),y.joiners=null}var y=((s={})[p]=!0,s.id=r,s.meta=i,s.isRoot=a,s.context=g,s.joiners=[],s.queue=v,s.cancel=function(){l===Ye&&(l=Qe,v.cancelAll(),m(d,!1))},s.cont=o,s.end=m,s.setContext=function(e){j(g,e)},s.toPromise=function(){return f?f.promise:(f=Pe(),l===Ze?f.reject(u):l!==Ye&&f.resolve(c),f.promise)},s.isRunning=function(){return l===Ye},s.isCancelled=function(){return l===Qe||l===Ye&&t.status===Qe},s.isAborted=function(){return l===Ze},s.result=function(){return c},s.error=function(){return u},s);return y}function gt(e,t,n,r,i,a,o){var c=e.finalizeRunEffect((function(t,n,r){if(I(t))$e(t,r);else if(w(t))gt(e,t,l.context,n,i,!1,r);else if(t&&t[s]){(0,it[t.type])(e,t.payload,r,f)}else r(t)}));p.cancel=k;var u={meta:i,cancel:function(){u.status===Ye&&(u.status=Qe,p(d))},status:Ye},l=ht(e,u,n,r,i,a,o),f={task:l,digestEffect:h};return o&&(o.cancel=l.cancel),p(),l;function p(e,n){try{var i;n?(i=t.throw(e),ft()):G(e)?(u.status=Qe,p.cancel(),i=x(t.return)?t.return(d):{done:!0,value:d}):i=z(e)?x(t.return)?t.return():{done:!0}:t.next(e),i.done?(u.status!==Qe&&(u.status=Je),u.cont(i.value)):h(i.value,r,p)}catch(a){if(u.status===Qe)throw a;u.status=Ze,u.cont(a,!0)}}function h(t,n,r,i){void 0===i&&(i="");var a,o=nt();function s(n,i){a||(a=!0,r.cancel=k,e.sagaMonitor&&(i?e.sagaMonitor.effectRejected(o,n):e.sagaMonitor.effectResolved(o,n)),i&&pt(t),r(n,i))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:o,parentEffectId:n,label:i,effect:t}),s.cancel=k,r.cancel=function(){a||(a=!0,s.cancel(),s.cancel=k,e.sagaMonitor&&e.sagaMonitor.effectCancelled(o))},c(t,o,s)}}function vt(e,t){var n=e.channel,i=void 0===n?Xe():n,a=e.dispatch,o=e.getState,s=e.context,c=void 0===s?{}:s,u=e.sagaMonitor,l=e.effectMiddlewares,f=e.onError,p=void 0===f?B:f;for(var d=arguments.length,h=new Array(d>2?d-2:0),g=2;g<d;g++)h[g-2]=arguments[g];var v=t.apply(void 0,h);var m,y=nt();if(u&&(u.rootSagaStarted=u.rootSagaStarted||k,u.effectTriggered=u.effectTriggered||k,u.effectResolved=u.effectResolved||k,u.effectRejected=u.effectRejected||k,u.effectCancelled=u.effectCancelled||k,u.actionDispatched=u.actionDispatched||k,u.rootSagaStarted({effectId:y,saga:t,args:h})),l){var b=r.compose.apply(void 0,l);m=function(e){return function(t,n,r){return b((function(t){return e(t,n,r)}))(t)}}}else m=N;var x={channel:i,dispatch:H(a),getState:o,sagaMonitor:u,onError:p,finalizeRunEffect:m};return Re((function(){var e=gt(x,v,c,y,X(t),!0,void 0);return u&&u.effectResolved(y,e),e}))}var mt=function(e){var t,n=void 0===e?{}:e,r=n.context,i=void 0===r?{}:r,a=n.channel,o=void 0===a?Xe():a,s=n.sagaMonitor,c=Object(m.a)(n,["context","channel","sagaMonitor"]);function u(e){var n=e.getState,r=e.dispatch;return t=vt.bind(null,Object(v.a)({},c,{context:i,channel:o,dispatch:r,getState:n,sagaMonitor:s})),function(e){return function(t){s&&s.actionDispatched&&s.actionDispatched(t);var n=e(t);return o.put(t),n}}}return u.run=function(){return t.apply(void 0,arguments)},u.setContext=function(e){j(i,e)},u},yt=n("QxAG"),bt=(n("HAE/"),n("WLL4"),n("jm62"),n("8+KV"),n("0l/t"),n("ioFf"),n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("CubX")),xt=n("gEN6"),_t=n("qk/P");function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){Object(bt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wt={username:null,brandUserName:null},Tt=n("yCBM"),Ot=n("pVz0");function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){Object(bt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dt=function(e){return null===Object(Tt.a)(e)},Pt={},At=n("pE+Q");function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){Object(bt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jt={wayin:!1,powerReview:!1},Rt=n("QG9Q"),Lt=n("M9dr");function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){Object(bt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft={env:"production",skApiUrl:null,gigyaApiKey:null,shopProvider:Rt.a.default,enableProductComparison:!1,skApiHeaders:{"sk-origin":"",Authorization:void 0,"sk-cookie":""},userContent:{}},qt=n("Kal9"),Bt={activeAccordion:null},Vt=n("e7ZD");function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){Object(bt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gt={mainFilter:-1,categoriesAsMainFilters:!1,secondaryFilters:[],secondaryFiltersId:-1},Wt=n("Cf7a"),Kt=n("JfNZ");function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(n),!0).forEach((function(t){Object(bt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qt={products:[],loaded:!1,config:null,client:null},Zt=n("I/Ip"),Jt=n("mAab");function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){Object(bt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tn={isModalOpen:!1,isSuccessModalOpen:!1,hideFreeSample:!1,isDiscountCodePending:!1,checkout:{id:null,lineItems:[],subtotalPrice:null,regularPrice:null,checkoutUrl:null,discount:null},cart:Jt.b},nn=n("adWD");function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach((function(t){Object(bt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var on={comparedProducts:[],addInProgress:{inProgress:!1,progressId:""},isComparisonModalOpen:!1,areComparedDiffs:!1},sn=n("fHvt");function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){Object(bt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ln={},fn=(n("bHtr"),n("jFjF"));function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){Object(bt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hn={comparisonIndex:0,isSelectProductsModalVisible:!1,productsToCompare:[]},gn=n("mIRl");function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){Object(bt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yn={data:[]},bn=n("rePB"),xn=n("ex4G");function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){Object(bn.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var In={currentVariant:null,currentProduct:null,isVariantClicked:!1,variantQuantity:1,subscribeFrequencyType:null,subscribeFrequencyValue:""},wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;switch(r){case xn.a.SET_CURRENT_VARIANT:return Sn({},e,{},n.currentVariant);case xn.a.SET_CURRENT_PRODUCT:return Sn({},e,{currentProduct:n.currentProduct});case xn.a.IS_VARIANT_CLICKED:return Sn({},e,{},n.isVariantClicked);case xn.a.SET_VARIANT_QUANTITY:case xn.a.SET_VARIANT_FREQUENCY_TYPE:case xn.a.SET_VARIANT_FREQUENCY_VALUE:return Sn({},e,{},n);default:return e}},Tn=n("KQm4"),On=(n("INYr"),n("U5j1"));function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){Object(bn.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dn={selectedFilters:[],categoryDetails:[]},Pn=n("ALDO");function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){Object(bn.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nn={slideIndex:0,slides:[],isActive:!0},jn=n("2Zji");function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){Object(bn.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mn={productNameKey:"",deviceType:"",formType:""},Un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case jn.a.SET_PRODUCT_NAME_KEY:return Ln({},e,{},r.productNameKey);case jn.a.SET_DEVICE_TYPE:return Ln({},e,{},r.deviceType);case jn.a.SET_FORM_TYPE:return Ln({},e,{},r.formType);default:return e}},Fn=n("cYGf");function qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(n),!0).forEach((function(t){Object(bn.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vn={},Hn={currentVariant:wn,productFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case On.a.SET_CATEGORY_FILTERS:return Cn({},e,{},r);case On.a.SET_CATEGORY_DETAILS:var i=e.categoryDetails,a=i.findIndex((function(e){return e.category===r.category}));return a>=0?(i[a]=r,Cn({},e,{categoryDetails:Object(Tn.a)(i)})):Cn({},e,{categoryDetails:[].concat(Object(Tn.a)(e.categoryDetails),[r])});default:return e}},slideShowPicker:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Pn.a.SLIDE_CHANGE:case Pn.a.ACTIVE_CHANGE:return kn({},e,{},r);default:return e}},dynamicForm:Un,currentUserData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn,t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;switch(r){case Fn.a.SET_USER_DATA:return Bn({},e,{},n.currentUserData);default:return e}}};function zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Gn=Object(r.combineReducers)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(n),!0).forEach((function(t){Object(bt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({intl:xt.intlReducer,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;switch(r){case _t.a.LOGOUT:return wt;case _t.a.LOGIN:return It({},e,{username:n.username});case _t.a.SET_BRAND_USERNAME:return It({},e,{brandUserName:n.brandUserName});default:return e}},popup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Ot.a.HIDE:return Ct({},e,Object(bt.a)({},r.pageId,!1));case Ot.a.INIT:return Ct({},e,Object(bt.a)({},r.pageId,Dt(r.pageId)));default:return e}},externalScripts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;switch(r){case At.a.SET_SCRIPT:return Nt({},e,{},n.script);default:return e}},webConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;switch(r){case Lt.a.SET_CONFIG:return Ut({},e,{},n.config);default:return e}},accordion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;switch(r){case qt.a.SET_ACTIVE_ACCORDION:return{activeAccordion:n.id};default:return e}},blogsListFilters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;switch(r){case Vt.a.SET_MAIN_FILTER:return zt({},e,{mainFilter:n.mainFilter});case Vt.a.SET_CATEGORIES_AS_MAIN_FILTERS:return zt({},e,{categoriesAsMainFilters:n.categoriesAsMainFilters});case Vt.a.SET_SECONDARY_FILTERS:return zt({},e,{secondaryFilters:n.secondaryFilters});case Vt.a.SET_SECONDARY_FILTERS_ID:return zt({},e,{secondaryFiltersId:n.secondaryFiltersId});default:return e}},shopify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;switch(r){case Kt.a.SET_DATA:return Yt({},e,{config:n.data.config?Yt({},n.data.config):null,products:n.data.products?Object(Wt.a)(n.data.products):e.products||[]});case Kt.a.SET_SHOPIFY_CLIENT:return Yt({},e,{client:n.client});case Kt.a.SET_PRODUCT_DETAILS:var i=e.products?e.products.filter((function(e){return e.id!==n.product.id})):[];return Yt({},e,{products:[].concat(Object(Wt.a)(i),[n.product]),loaded:!0});default:return e}},shopifyCart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Zt.a.SET_CHECKOUT:return en({},e,{checkout:r});case Zt.a.SET_CART:return en({},e,{cart:r});case Zt.a.SET_SUCCESS_MODAL:return en({},e,{isSuccessModalOpen:r.open,hideFreeSample:r.hideFreeSample});case Zt.a.TOGGLE_CART_MODAL:return en({},e,{isModalOpen:!e.isModalOpen});case Zt.a.ADD_DISCOUNT_CODE_START:return en({},e,{isDiscountCodePending:!0});case Zt.a.ADD_DISCOUNT_CODE_END:return en({},e,{isDiscountCodePending:!1});default:return e}},productComparison:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case nn.a.CREATE_COMPARISON:return an({},e,{comparedProducts:r.comparedProductsFromLocalStorage});case nn.a.CLEAR_COMPARISON:return an({},e,{comparedProducts:on.comparedProducts});case nn.a.SET_COMPARISON_IN_PROGRESS:return an({},e,{addInProgress:{inProgress:!0,progressId:r.id}});case nn.a.SET_COMPARISON_DONE:return an({},e,{addInProgress:an({},on.addInProgress)});case nn.a.ADD_TO_COMPARISON:return an({},e,{comparedProducts:[].concat(Object(Wt.a)(e.comparedProducts),[r.product])});case nn.a.REMOVE_FROM_COMPARISON:return an({},e,{comparedProducts:e.comparedProducts.filter((function(e){return e.idString.id!==r.id}))});case nn.a.TOGGLE_COMPARISON_MODAL:return an({},e,{isComparisonModalOpen:!e.isComparisonModalOpen});case nn.a.TOGGLE_COMPARISON_DIFFS:return an({},e,{areComparedDiffs:!e.areComparedDiffs});default:return e}},listChildPages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;switch(r){case sn.a.SET_SEARCH_QUERY:return un({},e,Object(bt.a)({},n.id,{searchQuery:n.searchQuery}));default:return e}},comparisonConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case fn.a.SET_COMPARISON_CONFIG:return dn({},e,{},r);case fn.a.ADD_TO_COMPARISON:return dn({},e,{productsToCompare:[].concat(Object(Wt.a)(r.initialProducts),Object(Wt.a)(new Array(r.comparisonCount).fill(null))).slice(0,r.comparisonCount),isSelectProductsModalVisible:!1});default:return e}},userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn,t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;switch(r){case gn.a.GET_USER_DATA:return mn({},e,{data:n});default:return e}}},Hn)),Wn=n("X3QS"),Kn=n.n(Wn),Xn=(n("bWfx"),n("DaNf"),function(e){return{done:!0,value:e}}),Yn={};function Qn(e){return O(e)?"channel":E(e)?String(e):x(e)?e.name:String(e)}function Zn(e,t,n){var r,i,a,o=t;function s(t,n){if(o===Yn)return Xn(t);if(n&&!i)throw o=Yn,n;r&&r(t);var s=n?e[i](n):e[o]();return o=s.nextState,a=s.effect,r=s.stateUpdater,i=s.errorState,o===Yn?Xn(t):a}return q(s,(function(e){return s(null,e)}),n)}function Jn(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a,o={done:!1,value:be(e)},s=function(e){return a=e};return Zn({q1:function(){return{nextState:"q2",effect:o,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:(e=a,{done:!1,value:we.apply(void 0,[t].concat(r,[e]))})};var e}},"q1","takeEvery("+Qn(e)+", "+t.name+")")}function $n(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a,o,s={done:!1,value:be(e)},c=function(e){return{done:!1,value:we.apply(void 0,[t].concat(r,[e]))}},u=function(e){return{done:!1,value:(t=e,void 0===t&&(t=f),me(le,t))};var t},l=function(e){return a=e},p=function(e){return o=e};return Zn({q1:function(){return{nextState:"q2",effect:s,stateUpdater:p}},q2:function(){return a?{nextState:"q3",effect:u(a)}:{nextState:"q1",effect:c(o),stateUpdater:l}},q3:function(){return{nextState:"q1",effect:c(o),stateUpdater:l}}},"q1","takeLatest("+Qn(e)+", "+t.name+")")}function er(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return we.apply(void 0,[Jn,e,t].concat(r))}function tr(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return we.apply(void 0,[$n,e,t].concat(r))}var nr=n("r0UZ"),rr=n("HQnQ"),ir=Kn.a.mark(sr),ar=Kn.a.mark(cr),or=Kn.a.mark(ur);function sr(){var e,t,n;return Kn.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Oe((function(e){return e.shopify}));case 3:if(e=r.sent,!(t=e.config)){r.next=11;break}return r.next=8,Object(rr.y)(t);case 8:return n=r.sent,r.next=11,xe(Object(Kt.e)(n));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),console.error(r.t0);case 16:case"end":return r.stop()}}),ir,null,[[0,13]])}function cr(e){var t,n,r,i,a,o,s,c;return Kn.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Oe((function(e){return e.shopify}));case 3:if(t=u.sent,n=t.config,!t.client){u.next=19;break}return u.next=9,Ie(rr.u,n,e.payload.productId);case 9:if(r=u.sent,i=Object(nr.a)(r,1),!(a=i[0])){u.next=19;break}return o=a.id,s=a.variants,c=a.collections,a.parsedId=Object(rr.h)(o),s&&s.forEach((function(e){e.parsedId=Object(rr.h)(e.id)})),c&&c.forEach((function(e){e.parsedId=Object(rr.h)(e.id)})),u.next=19,xe(Object(Kt.d)(a));case 19:u.next=24;break;case 21:u.prev=21,u.t0=u.catch(0),console.error(u.t0);case 24:case"end":return u.stop()}}),ar,null,[[0,21]])}function ur(){return Kn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr(Kt.a.INITIALIZE_SHOPIFY,sr);case 2:return e.next=4,tr(Kt.a.GET_PRODUCT_DETAILS,cr);case 4:case"end":return e.stop()}}),or)}n("xfY5"),n("pIFo"),n("KKXr"),n("dRSK"),n("eM6i");var lr=n("bndP"),fr=(n("VRzm"),n("z20H")),pr=n.n(fr),dr=n("77NR"),hr=function(e){var t,n;return Kn.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Kn.a.awrap(pr()("".concat(e,"cart.json")).then((function(e){return e.json()})).catch((function(e){return console.warn(e)})));case 2:return(null===(n=r.sent)||void 0===n?void 0:n.token)&&(null===n||void 0===n?void 0:null===(t=n.attributes)||void 0===t?void 0:t.reactCart)?window.localStorage.setItem(Jt.a,n.token):window.localStorage.removeItem(Jt.a),r.abrupt("return",Object(dr.a)(n));case 5:case"end":return r.stop()}}),null,null,null,Promise)},gr=n("SqtL"),vr=n("LPWd"),mr=Kn.a.mark(Cr),yr=Kn.a.mark(Dr),br=Kn.a.mark(Pr),xr=Kn.a.mark(Ar),_r=Kn.a.mark(kr),Sr=Kn.a.mark(Nr),Ir=Kn.a.mark(jr),wr=Kn.a.mark(Rr),Tr=Kn.a.mark(Lr);function Or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(n),!0).forEach((function(t){Object(bt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cr(e,t){var n,r;return Kn.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ie(rr.g,e.checkout);case 2:return n=i.sent,!(r=Object(lr.c)("".concat(gr.a.SHOPIFY_CHECKOUT_ID).concat(t)))&&n.id&&Object(lr.e)("".concat(gr.a.SHOPIFY_CHECKOUT_ID).concat(t),n.id,new Date(Date.now()+1e13)),i.next=7,xe(Object(Zt.i)(Er({},n,{id:r||n.id})));case 7:case"end":return i.stop()}}),mr)}function Dr(e){var t;return Kn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ie(hr,e.payload.shopUrl);case 3:return t=n.sent,n.next=6,xe(Object(Zt.h)(t));case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.warn(n.t0);case 11:case"end":return n.stop()}}),yr,null,[[0,8]])}function Pr(){var e,t,n,r,i,a,o;return Kn.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Oe((function(e){return e.shopify}));case 3:return e=s.sent,t=e.client,s.next=7,Oe((function(e){return e.shopifyCart.checkout}));case 7:if(n=s.sent,r=n.id,!t){s.next=29;break}if(i=document.querySelector('head meta[property="og:locale"]'),a=i?i.getAttribute("content"):"",!r){s.next=27;break}return s.next=15,Ie(rr.j,t.checkout,r);case 15:if(!(o=s.sent)){s.next=21;break}return s.next=19,xe(Object(Zt.i)(o));case 19:s.next=25;break;case 21:return Object(lr.c)("".concat(gr.a.SHOPIFY_CHECKOUT_ID).concat(a))===r&&Object(lr.d)("".concat(gr.a.SHOPIFY_CHECKOUT_ID).concat(a)),s.next=25,Ie(Cr,t,a);case 25:s.next=29;break;case 27:return s.next=29,Ie(Cr,t,a);case 29:s.next=34;break;case 31:s.prev=31,s.t0=s.catch(0),console.error(s.t0);case 34:case"end":return s.stop()}}),br,null,[[0,31]])}function Ar(e){var t,n,r,i,a,o,s,c,u,l,f,p,d,h,g,v,m,y,b,x,_,S,I,w,T;return Kn.a.wrap((function(O){for(;;)switch(O.prev=O.next){case 0:return O.prev=0,t=e.payload,n=t.product,r=t.variantId,i=t.quantity,a=e.meta,o=a.withCheckout,s=a.toggleCart,c=a.location,O.next=5,Oe((function(e){return e.shopify}));case 5:return u=O.sent,l=u.client,O.next=9,Oe((function(e){return e.shopifyCart.checkout}));case 9:return f=O.sent,p=f.id,O.next=13,Oe((function(e){return e.userData}));case 13:if(d=O.sent,h=Object(rr.k)(n.metafields),g=Object(nr.a)(h,1),v=g[0],m=Object(rr.r)(n.metafields),y=Object(nr.a)(m,1),b=y[0],x=n.variants.find((function(e){return e.id===r})),S=[],!x){O.next=23;break}return I=x.product.onlineStoreUrl,O.next=22,Ie(rr.f,n.parsedId,x.parsedId,0,I);case 22:_=O.sent;case 23:if(!l){O.next=32;break}return w=v?v.value.split(", ").map((function(e){var t=e.replace("\n","").split(":"),n=Object(nr.a)(t,2),r=n[0],a=n[1];return{variantId:Object(rr.i)(r),quantity:Number(a)*i}})):(_&&S.push({key:"quantityOnStock",value:"".concat(_)}),b&&S.push({key:b.key,value:b.value}),[{variantId:r,quantity:i,customAttributes:S||[]}]),O.next=27,Ie(rr.d,l.checkout,p,w);case 27:return T=O.sent,vr.b.dispatch(vr.a.addToCart,Er({},T,{location:c,user:d.data})),O.next=31,xe(Object(Zt.i)(T));case 31:o&&(window.location=T.webUrl);case 32:if(!s){O.next=35;break}return O.next=35,xe(Object(Zt.k)());case 35:O.next=40;break;case 37:O.prev=37,O.t0=O.catch(0),console.error(O.t0);case 40:case"end":return O.stop()}}),xr,null,[[0,37]])}function kr(e){var t,n,r,i,a;return Kn.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Oe((function(e){return e.shopify}));case 3:return t=o.sent,n=t.client,o.next=7,Oe((function(e){return e.shopifyCart.checkout}));case 7:if(r=o.sent,i=r.id,!n){o.next=19;break}return o.next=12,Ie(rr.B,n.checkout,i,e.payload.id);case 12:if(0!==(a=o.sent).lineItems.length){o.next=17;break}return o.next=16,Ie(rr.C,n.checkout,i);case 16:a=o.sent;case 17:return o.next=19,xe(Object(Zt.i)(a));case 19:o.next=24;break;case 21:o.prev=21,o.t0=o.catch(0),console.error(o.t0);case 24:case"end":return o.stop()}}),_r,null,[[0,21]])}function Nr(e){var t,n,r,i,a;return Kn.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Ce(600);case 3:return o.next=5,Oe((function(e){return e.shopify}));case 5:return t=o.sent,n=t.client,o.next=9,Oe((function(e){return e.shopifyCart.checkout}));case 9:if(r=o.sent,i=r.id,!n){o.next=17;break}return o.next=14,Ie(rr.E,n.checkout,i,e.payload);case 14:return a=o.sent,o.next=17,xe(Object(Zt.i)(a));case 17:o.next=22;break;case 19:o.prev=19,o.t0=o.catch(0),console.error(o.t0);case 22:case"end":return o.stop()}}),Sr,null,[[0,19]])}function jr(e){var t,n,r,i,a;return Kn.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Oe((function(e){return e.shopify}));case 3:return t=o.sent,n=t.client,o.next=7,Oe((function(e){return e.shopifyCart.checkout}));case 7:if(r=o.sent,i=r.id,!n){o.next=17;break}return o.next=12,Ie(rr.e,n.checkout,i,e.payload.discountCode);case 12:return a=o.sent,o.next=15,xe(Object(Zt.i)(a));case 15:return o.next=17,xe({type:Zt.a.ADD_DISCOUNT_CODE_END});case 17:o.next=22;break;case 19:o.prev=19,o.t0=o.catch(0),console.error(o.t0);case 22:case"end":return o.stop()}}),Ir,null,[[0,19]])}function Rr(){var e,t,n,r,i;return Kn.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Oe((function(e){return e.shopify}));case 3:return e=a.sent,t=e.client,a.next=7,Oe((function(e){return e.shopifyCart.checkout}));case 7:if(n=a.sent,r=n.id,!t){a.next=15;break}return a.next=12,Ie(rr.C,t.checkout,r);case 12:return i=a.sent,a.next=15,xe(Object(Zt.i)(i));case 15:a.next=20;break;case 17:a.prev=17,a.t0=a.catch(0),console.error(a.t0);case 20:case"end":return a.stop()}}),wr,null,[[0,17]])}function Lr(){return Kn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr(Zt.a.INITIALIZE_CHECKOUT,Pr);case 2:return e.next=4,tr(Zt.a.INITIALIZE_CART,Dr);case 4:return e.next=6,tr(Zt.a.ADD_DISCOUNT_CODE_START,jr);case 6:return e.next=8,tr(Zt.a.REMOVE_DISCOUNT_CODE,Rr);case 8:return e.next=10,er(Zt.a.ADD_CART_ITEM,Ar);case 10:return e.next=12,er(Zt.a.REMOVE_CART_ITEM,kr);case 12:return e.next=14,tr(Zt.a.CHANGE_CART_ITEM_QUANTITY,Nr);case 14:case"end":return e.stop()}}),Tr)}var Mr=Kn.a.mark(Fr),Ur=Kn.a.mark(qr);function Fr(){var e,t,n;return Kn.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object.keys(localStorage).find((function(e){return/^CognitoIdentityServiceProvider./.test(e)&&/.userData$/.test(e)}));case 2:return e=r.sent,r.next=5,Object(Tt.a)(e);case 5:return t=r.sent,n=t.UserAttributes,r.next=9,xe(Object(gn.c)(n));case 9:case"end":return r.stop()}}),Mr)}function qr(){return Kn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,er(gn.a.LISTENER_GET_USER_DATA,Fr);case 2:case"end":return e.stop()}}),Ur)}var Br=n("sZWb"),Vr=n("oesl"),Hr=Kn.a.mark(zr);function zr(){var e,t,n,r;return Kn.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:i.prev=0;case 1:return i.next=4,be(nn.a.INITIALIZE_COMPARISON);case 4:return e=i.sent,t=e.meta.lang,i.next=8,Oe((function(e){return e.productComparison}));case 8:if(n=i.sent,!n.comparedProducts.length){i.next=13;break}return i.next=13,xe(Object(nn.d)());case 13:if(!(r=Object(Tt.a)(Object(Br.a)(t)))){i.next=17;break}return i.next=17,xe(Object(nn.e)(r));case 17:i.next=1;break;case 19:i.next=24;break;case 21:i.prev=21,i.t0=i.catch(0),console.error(Vr.b.Initialize,i.t0);case 24:case"end":return i.stop()}}),Hr,null,[[0,21]])}var Gr=zr,Wr=n("Flse"),Kr=n("jowg"),Xr=Kn.a.mark(ni),Yr=Kn.a.mark(ri),Qr=Kn.a.mark(ii),Zr=Kn.a.mark(ai),Jr=Kn.a.mark(oi),$r=Kn.a.mark(si),ei=Kn.a.mark(ci),ti=Kn.a.mark(ui);function ni(e){return Kn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xe(Object(nn.g)(e));case 2:case"end":return t.stop()}}),Xr)}function ri(e){return Kn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xe(Object(nn.b)(e));case 2:case"end":return t.stop()}}),Yr)}function ii(e){return Kn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ie(Wr.b.info,e);case 2:case"end":return t.stop()}}),Qr)}function ai(e,t,n){var r;return Kn.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Oe((function(e){return e.productComparison}));case 2:if(r=i.sent,!(r.comparedProducts.length>=t)){i.next=9;break}return i.next=7,Ie(ii,n);case 7:i.next=11;break;case 9:return i.next=11,Ie(ri,e);case 11:case"end":return i.stop()}}),Zr)}function oi(e,t,n){var r,i;return Kn.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Oe((function(e){return e.productComparison}));case 2:if(r=a.sent,i=r.comparedProducts,i.find((function(t){return t.idString.id===e.idString.id}))){a.next=10;break}return a.next=8,Ie(ai,e,t,n);case 8:a.next=12;break;case 10:return a.next=12,Ie(ni,e.idString.id);case 12:case"end":return a.stop()}}),Jr)}function si(e,t,n){var r,i,a;return Kn.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Ie(oi,e,t,n);case 2:return o.next=4,Oe((function(e){return e.productComparison}));case 4:return r=o.sent,i=r.comparedProducts,o.next=8,Oe((function(e){return e.intl.locale}));case 8:a=o.sent,Object(Tt.c)(Object(Br.a)(a),i);case 10:case"end":return o.stop()}}),$r)}function ci(e,t,n,r){return Kn.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,xe(Object(nn.j)(t.idString.id));case 2:return i.next=4,Ce(Kr.c);case 4:return i.delegateYield(e(t,n,r),"t0",5);case 5:return i.next=7,xe(Object(nn.i)());case 7:case"end":return i.stop()}}),ei)}function ui(){var e,t,n,r,i,a;return Kn.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Ee(nn.a.SET_COMPARISON);case 2:e=o.sent,o.prev=3;case 4:return o.next=7,be(e);case 7:if(t=o.sent,n=t.payload.product,r=t.meta,i=r.comparedProductsLimit,a=r.comparedProductsLimitMessage,!r.withLoading){o.next=18;break}return o.next=16,ci(si,n,i,a);case 16:o.next=20;break;case 18:return o.next=20,Ie(si,n,i,a);case 20:o.next=4;break;case 22:o.next=27;break;case 24:o.prev=24,o.t0=o.catch(3),console.error(Vr.b.Handle,o.t0);case 27:case"end":return o.stop()}}),ti,null,[[3,24]])}var li=ui,fi=Kn.a.mark(pi);function pi(){var e,t,n;return Kn.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0;case 1:return r.next=4,be(nn.a.CLEAR_ALL_COMPARED_PRODUCTS);case 4:return e=r.sent,t=e.meta.lang,r.next=8,xe(Object(nn.d)());case 8:return n=Object(Br.a)(t),r.next=11,Ie(Tt.b,n);case 11:r.next=1;break;case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(0),console.error(Vr.b.ClearAll,r.t0);case 18:case"end":return r.stop()}}),fi,null,[[0,15]])}var di=pi,hi=Kn.a.mark(gi);function gi(){return Kn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(Gr);case 2:return e.next=4,Te(li);case 4:return e.next=6,Te(di);case 6:case"end":return e.stop()}}),hi)}var vi=gi,mi=Kn.a.mark(bi),yi=[ur,Lr,qr,vi];function bi(){return Kn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(yi.map((function(e){return we(e)})));case 2:case"end":return e.stop()}}),mi)}var xi=bi;t.a=function(e){var t=mt(),n=Object(r.applyMiddleware)(t),i=Object(r.createStore)(Gn,e,Object(yt.composeWithDevTools)(n));return t.run(xi),i}},XVp1:function(e,t,n){"use strict";var r=n("pQr1");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("wk0W")),a=n("ZqbR"),o=n("JRPe");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){var t=e.intl;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({key:t.locale},t)}var u=(0,a.connect)((function(e,t){var n=t.intlSelector;return(void 0===n?c:n)(e)}))(o.IntlProvider);t.default=u},cha2:function(e,t,n){"use strict";n.r(t);var r=n("BE74");t.default=r.a},gEN6:function(e,t,n){"use strict";var r=n("pQr1");Object.defineProperty(t,"__esModule",{value:!0}),t.intlReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;if(t.type!==c)return e;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t.payload)},Object.defineProperty(t,"IntlProvider",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"Provider",{enumerable:!0,get:function(){return o.default}}),t.initialState=t.updateIntl=t.UPDATE=void 0;var i=r(n("wk0W")),a=r(n("XVp1")),o=r(n("y3vd"));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var c="@@intl/UPDATE";t.UPDATE=c;t.updateIntl=function(e){var t=e.locale,n=e.formats,r=e.messages;return{type:c,payload:{locale:t,formats:n,messages:r}}};var u={locale:"en",messages:{}};t.initialState=u},pZSV:function(e,t,n){"use strict";n.r(t),n.d(t,"ApplicationInsights",(function(){return er})),n.d(t,"Telemetry",(function(){return $n})),n.d(t,"ApplicationInsightsContainer",(function(){return nr})),n.d(t,"AppInsightsCore",(function(){return Te})),n.d(t,"LoggingSeverity",(function(){return H})),n.d(t,"_InternalMessageId",(function(){return K})),n.d(t,"Util",(function(){return Ae})),n.d(t,"SeverityLevel",(function(){return rt})),n.d(t,"Event",(function(){return Ke})),n.d(t,"Exception",(function(){return $e})),n.d(t,"Metric",(function(){return at})),n.d(t,"PageView",(function(){return st})),n.d(t,"PageViewPerformance",(function(){return lt})),n.d(t,"RemoteDependencyData",(function(){return ct})),n.d(t,"Trace",(function(){return ut})),n.d(t,"DistributedTracingModes",(function(){return ye})),n.d(t,"Sender",(function(){return fn})),n.d(t,"ApplicationAnalytics",(function(){return Wt})),n.d(t,"PropertiesPlugin",(function(){return Sn})),n.d(t,"DependenciesPlugin",(function(){return Jn}));var r={};n.r(r),n.d(r,"Util",(function(){return Ae})),n.d(r,"CorrelationIdHelper",(function(){return Ne})),n.d(r,"UrlHelper",(function(){return ke})),n.d(r,"DateTimeUtils",(function(){return Re})),n.d(r,"ConnectionStringParser",(function(){return Be})),n.d(r,"FieldType",(function(){return me})),n.d(r,"RequestHeaders",(function(){return Oe})),n.d(r,"DisabledPropertyName",(function(){return Le})),n.d(r,"ProcessLegacy",(function(){return Ue})),n.d(r,"SampleRate",(function(){return Me})),n.d(r,"HttpMethod",(function(){return Fe})),n.d(r,"DEFAULT_BREEZE_ENDPOINT",(function(){return qe})),n.d(r,"AIData",(function(){return He})),n.d(r,"AIBase",(function(){return Ve})),n.d(r,"Envelope",(function(){return ze})),n.d(r,"Event",(function(){return Ke})),n.d(r,"Exception",(function(){return $e})),n.d(r,"Metric",(function(){return at})),n.d(r,"PageView",(function(){return st})),n.d(r,"PageViewData",(function(){return ot})),n.d(r,"RemoteDependencyData",(function(){return ct})),n.d(r,"Trace",(function(){return ut})),n.d(r,"PageViewPerformance",(function(){return lt})),n.d(r,"Data",(function(){return ft})),n.d(r,"SeverityLevel",(function(){return rt})),n.d(r,"ConfigurationManager",(function(){return pt})),n.d(r,"ContextTagKeys",(function(){return dt})),n.d(r,"DataSanitizer",(function(){return Ee})),n.d(r,"TelemetryItemCreator",(function(){return ht})),n.d(r,"CtxTagKeys",(function(){return vt})),n.d(r,"Extensions",(function(){return gt})),n.d(r,"DistributedTracingModes",(function(){return ye})),n.d(r,"PropertiesPluginIdentifier",(function(){return mt})),n.d(r,"BreezeChannelIdentifier",(function(){return yt})),n.d(r,"AnalyticsPluginIdentifier",(function(){return bt}));var i=n("uMXR"),a=i.f,o=i.d,s=i.e,c=i.c,u="window",l="document",f="navigator",p="history",d="location",h="performance",g="JSON",v="crypto",m="ReactNative",y=i.a;function b(e){var t=y();return t&&t[e]?t[e]:e===u&&x()?window:null}function x(){return Boolean(typeof window===o&&window)}function _(){return x()?window:b(u)}function S(){return Boolean(typeof document===o&&document)}function I(){return S()?document:b(l)}function w(){return Boolean(typeof navigator===o&&navigator)?navigator:b(f)}function T(){return Boolean(typeof history===o&&history)?history:b(p)}function O(){return typeof location===o&&location?location:b(d)}function E(){return b(h)}function C(){return Boolean(typeof JSON===o&&JSON||null!==b(g))}function D(){return C()?JSON||b(g):null}i.f;var P="on",A="attachEvent",k="addEventListener",N="detachEvent",j="removeEventListener";function R(e,t){return typeof e===t}function L(e){return R(e,i.f)||void 0===e}function M(e){return L(e)||null===e}function U(e,t){return e&&Object[i.e].hasOwnProperty.call(e,t)}function F(e){return R(e,i.d)}function q(e){return R(e,i.c)}function B(e,t,n,r){void 0===r&&(r=!1);var i=!1;if(!M(e))try{M(e[k])?M(e[A])||(e[A](P+t,n),i=!0):(e[k](t,n,r),i=!0)}catch(a){}return i}function V(e,t,n,r){if(void 0===r&&(r=!1),!M(e))try{M(e[j])?M(e[N])||e[N](P+t,n):e[j](t,n,r)}catch(i){}}var H,z=function(){function e(){}return e.isDate=function(e){return"[object Date]"===Object[i.e].toString.call(e)},e.isString=function(e){return R(e,"string")},e.isNumber=function(e){return R(e,"number")},e.isBoolean=function(e){return R(e,"boolean")},e.disableCookies=function(){e._canUseCookies=!1},e.newGuid=function(){function e(){var e=b(v);return e?e.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random()}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(G,(function(t){var n=0|e();return("x"===t?n:3&n|8).toString(16)}))},e.toISOString=function(t){if(e.isDate(t)){var n=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return t.getUTCFullYear()+"-"+n(t.getUTCMonth()+1)+"-"+n(t.getUTCDate())+"T"+n(t.getUTCHours())+":"+n(t.getUTCMinutes())+":"+n(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}},e.arrForEach=function(e,t,n){for(var r=e.length,i=0;i<r;i++)i in e&&t.call(n||e,e[i],i,e)},e.arrIndexOf=function(e,t,n){for(var r=e.length,i=n||0,a=Math.max(i>=0?i:r-Math.abs(i),0);a<r;a++)if(a in e&&e[a]===t)return a;return-1},e.arrMap=function(e,t,n){for(var r=e.length,i=n||e,a=new Array(r),o=0;o<r;o++)o in e&&(a[o]=t.call(i,e[o],e));return a},e.arrReduce=function(e,t,n){var r,i=e.length,a=0;if(arguments.length>=3)r=arguments[2];else{for(;a<i&&!(a in e);)a++;r=e[a++]}for(;a<i;)a in e&&(r=t(r,e[a],a,e)),a++;return r},e.strTrim=function(t){return e.isString(t)?t.replace(/^\s+|\s+$/g,""):t},e.objKeys=function(e){var t=!{toString:null}.propertyIsEnumerable("toString");if(!q(e)&&(!F(e)||null===e))throw new TypeError("objKeys called on non-object");var n=[];for(var r in e)U(e,r)&&n.push(r);if(t)for(var i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=i.length,o=0;o<a;o++)U(e,i[o])&&n.push(i[o]);return n},e.objDefineAccessors=function(e,t,n,r){var i=Object.defineProperty;if(i)try{var a={enumerable:!0,configurable:!0};return n&&(a.get=n),r&&(a.set=r),i(e,t,a),!0}catch(o){}return!1},e.addEventHandler=function(e,t){var n=!1,r=_();r&&(n=B(r,e,t),n=B(r.body,e,t)||n);var i=I();return i&&(n=W.Attach(i,e,t)||n),n},e.isTypeof=R,e.isUndefined=L,e.isNullOrUndefined=M,e.hasOwnProperty=U,e.isFunction=q,e.isObject=F,e.objCreate=i.b,e}(),G=/[xy]/g,W=function(){function e(){}return e.Attach=B,e.AttachEvent=B,e.Detach=V,e.DetachEvent=V,e}();!function(e){e[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING"}(H||(H={}));var K={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99},X=function(){function e(t,n,r,i){void 0===r&&(r=!1),this.messageId=t,this.message=(r?e.AiUserActionablePrefix:e.AiNonUserActionablePrefix)+t;var a="";C()&&(a=D().stringify(i));var o=(n?" message:"+e.sanitizeDiagnosticText(n):"")+(i?" props:"+e.sanitizeDiagnosticText(a):"");this.message+=o}return e.sanitizeDiagnosticText=function(e){return e?'"'+e.replace(/\"/g,"")+'"':""},e.dataType="MessageData",e.AiNonUserActionablePrefix="AI (Internal): ",e.AiUserActionablePrefix="AI: ",e}(),Y=function(){function e(e){this.queue=[],this.AIInternalMessagePrefix="AITR_",this._messageCount=0,this._messageLogged={},this.enableDebugExceptions=function(){return!1},this.consoleLoggingLevel=function(){return 0},this.telemetryLoggingLevel=function(){return 1},this.maxInternalMessageLimit=function(){return 25},z.isNullOrUndefined(e)||(z.isNullOrUndefined(e.loggingLevelConsole)||(this.consoleLoggingLevel=function(){return e.loggingLevelConsole}),z.isNullOrUndefined(e.loggingLevelTelemetry)||(this.telemetryLoggingLevel=function(){return e.loggingLevelTelemetry}),z.isNullOrUndefined(e.maxMessageLimit)||(this.maxInternalMessageLimit=function(){return e.maxMessageLimit}),z.isNullOrUndefined(e.enableDebugExceptions)||(this.enableDebugExceptions=function(){return e.enableDebugExceptions}))}return e.prototype.throwInternal=function(e,t,n,r,i){void 0===i&&(i=!1);var a=new X(t,n,i,r);if(this.enableDebugExceptions())throw a;if(!z.isUndefined(a)&&a&&!z.isUndefined(a.message)){if(i){var o=+a.messageId;!this._messageLogged[o]&&this.consoleLoggingLevel()>=H.WARNING&&(this.warnToConsole(a.message),this._messageLogged[o]=!0)}else this.consoleLoggingLevel()>=H.WARNING&&this.warnToConsole(a.message);this.logInternalMessage(e,a)}},e.prototype.warnToConsole=function(e){!z.isUndefined(console)&&console&&(z.isFunction(console.warn)?console.warn(e):z.isFunction(console.log)&&console.log(e))},e.prototype.resetInternalMessageCount=function(){this._messageCount=0,this._messageLogged={}},e.prototype.logInternalMessage=function(e,t){if(!this._areInternalMessagesThrottled()){var n=!0,r=this.AIInternalMessagePrefix+t.messageId;if(this._messageLogged[r]?n=!1:this._messageLogged[r]=!0,n&&(e<=this.telemetryLoggingLevel()&&(this.queue.push(t),this._messageCount++),this._messageCount===this.maxInternalMessageLimit())){var i="Internal events throttle limit per PageView reached for this app.",a=new X(K.MessageLimitPerPVExceeded,i,!1);this.queue.push(a),this.warnToConsole(i)}}},e.prototype._areInternalMessagesThrottled=function(){return this._messageCount>=this.maxInternalMessageLimit()},e}(),Q=z.isFunction,Z=function(e,t){var n=this,r=null,i=Q(e.processTelemetry),a=Q(e.setNextPlugin);n._hasRun=!1,n.getPlugin=function(){return e},n.getNext=function(){return r},n.setNext=function(e){r=e},n.processTelemetry=function(o,s){if(s||(s=t),e&&i){n._hasRun=!0;try{s.setNext(r),a&&e.setNextPlugin(r),r&&(r._hasRun=!1),e.processTelemetry(o,s)}catch(u){var c=r&&r._hasRun;r&&c||s.diagLog().throwInternal(H.CRITICAL,K.PluginException,"Plugin ["+e.identifier+"] failed during processTelemetry - "+u),r&&!c&&r.processTelemetry(o,s)}}else r&&(n._hasRun=!0,r.processTelemetry(o,s))}},J=z.isNullOrUndefined;function $(e,t){var n=[];if(e&&e.length>0)for(var r=null,i=0;i<e.length;i++){var a=e[i];if(a&&z.isFunction(a.processTelemetry)){var o=new Z(a,t);n.push(o),r&&r.setNext(o),r=o}}return n.length>0?n[0]:null}var ee=function e(t,n,r,i){var a=this,o=null;null!==i&&(t&&z.isFunction(t.getPlugin)?o=function(e,t,n){var r=[],i=!n;if(e)for(;e;){var a=e.getPlugin();(i||a===n)&&(i=!0,r.push(a)),e=e.getNext()}return i||r.push(n),$(r,t)}(t,a,i||t.getPlugin()):i?o=function(e,t,n){var r=e,i=!1;return n&&e&&(r=[],z.arrForEach(e,(function(e){(i||e===n)&&(i=!0,r.push(e))}))),n&&!i&&(r||(r=[]),r.push(n)),$(r,t)}(t,a,i):z.isUndefined(i)&&(o=$(t,a))),a.core=function(){return r},a.diagLog=function(){var e=(r||{}).logger;return e||(e=new Y(n||{})),e},a.getCfg=function(){return n},a.getExtCfg=function(e,t){var r;if(void 0===t&&(t={}),n){var i=n.extensionConfig;i&&e&&(r=i[e])}return r||t},a.getConfig=function(e,t,r){var i;void 0===r&&(r=!1);var o=a.getExtCfg(e,null);return o&&!J(o[t])?i=o[t]:n&&!J(n[t])&&(i=n[t]),J(i)?r:i},a.hasNext=function(){return null!=o},a.getNext=function(){return o},a.setNext=function(e){o=e},a.processNext=function(e){var t=o;t&&(o=t.getNext(),t.processTelemetry(e,a))},a.createNew=function(t,i){return void 0===t&&(t=null),new e(t||o,n,r,i)}},te=z.isFunction,ne="getPlugin",re=function(){function e(){var e=this,t=!1,n=null,r=null;e.core=null,e.diagLog=function(t){return e._getTelCtx(t).diagLog()},e.isInitialized=function(){return t},e.setInitialized=function(e){t=e},e.setNextPlugin=function(e){r=e},e.processNext=function(e,t){t?t.processNext(e):r&&te(r.processTelemetry)&&r.processTelemetry(e,null)},e._getTelCtx=function(t){void 0===t&&(t=null);var i=t;if(!i){var a=n||new ee(null,{},e.core);i=r&&r[ne]?a.createNew(null,r[ne]):a.createNew(null,r)}return i},e._baseTelInit=function(i,a,o,s){i&&(i.extensionConfig=i.extensionConfig||[]),!s&&a&&(s=a.getProcessTelContext().getNext());var c=r;r&&r[ne]&&(c=r[ne]()),e.core=a,n=new ee(s,i,a,c),t=!0}}return e.prototype.initialize=function(e,t,n,r){this._baseTelInit(e,t,n,r)},e}(),ie=z.isFunction,ae="processTelemetry",oe="priority",se="setNextPlugin",ce="isInitialized";function ue(e,t){for(var n=[],r=null,i=e.getNext();i;){var a=i.getPlugin();a&&(r&&ie(r[se])&&ie(a[ae])&&r[se](a),ie(a[ce])&&a[ce]()||n.push(a),r=a,i=i.getNext())}z.arrForEach(n,(function(n){n.initialize(e.getCfg(),e.core(),t,e.getNext())}))}function le(e){return e.sort((function(e,t){var n=0,r=ie(t[ae]);return ie(e[ae])?n=r?e[oe]-t[oe]:1:r&&(n=-1),n}))}var fe=500,pe="Channel has invalid priority",de=z.arrForEach,he=z.objDefineAccessors;function ge(e,t){t&&t.length>0&&(function(e){de(e,(function(e){if(e.priority<fe)throw Error(pe+e.identifier)}))}(t=t.sort((function(e,t){return e.priority-t.priority}))),e.push(t))}var ve,me,ye,be=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.identifier="ChannelControllerPlugin",t.priority=fe,t}return __extends(t,e),t.prototype.processTelemetry=function(e,t){var n=this;this._channelQueue&&de(this._channelQueue,(function(r){r.length>0&&n._getTelCtx(t).createNew(r).processNext(e)}))},t.prototype.getChannelControls=function(){return this._channelQueue},t.prototype.initialize=function(t,n,r){if(!this.isInitialized()){e.prototype.initialize.call(this,t,n,r),t.isCookieUseDisabled&&z.disableCookies();var i=this._channelQueue=function(e,t){var n=[];if(e&&de(e,(function(e){return ge(n,e)})),t){var r=[];de(t,(function(e){e.priority>fe&&r.push(e)})),ge(n,r)}return n}((t||{}).channels,r);de(i,(function(e){return ue(new ee(e,t,n),r)}))}},t._staticInit=(he(t.prototype,"ChannelControls",t.prototype.getChannelControls),void he(t.prototype,"channelQueue",t.prototype.getChannelControls)),t}(re),xe=z.arrForEach,_e=z.isNullOrUndefined,Se=function(){function e(){var e=!1;this._extensions=new Array,this._channelController=new be,this.isInitialized=function(){return e},this._setInit=function(t){e=t},this._eventQueue=[]}return e.prototype.initialize=function(e,t,n,r){if(this.isInitialized())throw Error("Core should not be initialized more than once");if(!e||_e(e.instrumentationKey))throw Error("Please provide instrumentation key");this.config=e;var i=this._channelController;r||(r=z.objCreate({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){},eventsSendRequest:function(e,t){}})),this._notificationManager=r,e.extensions=_e(e.extensions)?[]:e.extensions,(e.extensionConfig=_e(e.extensionConfig)?{}:e.extensionConfig).NotificationManager=r,n||(n=z.objCreate({throwInternal:function(e,t,n,r,i){void 0===i&&(i=!1)},warnToConsole:function(e){},resetInternalMessageCount:function(){}})),this.logger=n;var a=[];a.push.apply(a,t.concat(e.extensions)),a=le(a);var o=[],s=[],c={};if(xe(a,(function(e){if(_e(e)||_e(e.initialize))throw Error("Extensions must provide callback to initialize");var t=e.priority,r=e.identifier;e&&t&&(_e(c[t])?c[t]=r:n.warnToConsole("Two extensions have same priority #"+t+" - "+c[t]+", "+r)),!t||t<i.priority?o.push(e):s.push(e)})),a.push(i),o.push(i),a=le(a),this._extensions=a,ue(new ee([i],e,this),a),ue(new ee(o,e,this),a),this._extensions=o,0===this.getTransmissionControls().length)throw new Error("No channels available");this._setInit(!0),this.releaseQueue()},e.prototype.getTransmissionControls=function(){return this._channelController.getChannelControls()},e.prototype.track=function(e){e.iKey||(e.iKey=this.config.instrumentationKey),e.time||(e.time=z.toISOString(new Date)),_e(e.ver)&&(e.ver="4.0"),this.isInitialized()?this.getProcessTelContext().processNext(e):this._eventQueue.push(e)},e.prototype.getProcessTelContext=function(){var e=this._extensions,t=e;return e&&0!==e.length||(t=[this._channelController]),new ee(t,this.config,this)},e.prototype.releaseQueue=function(){var e=this;e._eventQueue.length>0&&(xe(e._eventQueue,(function(t){e.getProcessTelContext().processNext(t)})),e._eventQueue=[])},e}(),Ie=2,we=function(){function e(){this.listeners=[]}return e.prototype.addNotificationListener=function(e){this.listeners.push(e)},e.prototype.removeNotificationListener=function(e){for(var t=z.arrIndexOf(this.listeners,e);t>-1;)this.listeners.splice(t,1),t=z.arrIndexOf(this.listeners,e)},e.prototype.eventsSent=function(e){for(var t=this,n=function(n){r.listeners[n].eventsSent&&setTimeout((function(){return t.listeners[n].eventsSent(e)}),0)},r=this,i=0;i<this.listeners.length;++i)n(i)},e.prototype.eventsDiscarded=function(e,t){for(var n=this,r=function(r){i.listeners[r].eventsDiscarded&&setTimeout((function(){return n.listeners[r].eventsDiscarded(e,t)}),0)},i=this,a=0;a<this.listeners.length;++a)r(a)},e.prototype.eventsSendRequest=function(e,t){for(var n=this,r=function(r){if(i.listeners[r].eventsSendRequest)if(t)setTimeout((function(){return n.listeners[r].eventsSendRequest(e,t)}),0);else try{i.listeners[r].eventsSendRequest(e,t)}catch(a){}},i=this,a=0;a<this.listeners.length;++a)r(a)},e}(),Te=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.initialize=function(t,n){this._notificationManager=new we,this.logger=new Y(t),this.config=t,e.prototype.initialize.call(this,t,n,this.logger,this._notificationManager)},t.prototype.getTransmissionControls=function(){return e.prototype.getTransmissionControls.call(this)},t.prototype.track=function(t){if(null===t)throw this._notifyInvalidEvent(t),Error("Invalid telemetry item");this._validateTelemetryItem(t),e.prototype.track.call(this,t)},t.prototype.addNotificationListener=function(e){this._notificationManager&&this._notificationManager.addNotificationListener(e)},t.prototype.removeNotificationListener=function(e){this._notificationManager&&this._notificationManager.removeNotificationListener(e)},t.prototype.pollInternalLogs=function(e){var t=this,n=this.config.diagnosticLogInterval;return n&&n>0||(n=1e4),setInterval((function(){var n=t,r=n.logger?n.logger.queue:[];z.arrForEach(r,(function(t){var r={name:e||"InternalMessageId: "+t.messageId,iKey:n.config.instrumentationKey,time:z.toISOString(new Date),baseType:X.dataType,baseData:{message:t.message}};n.track(r)})),r.length=0}),n)},t.prototype._validateTelemetryItem=function(e){if(z.isNullOrUndefined(e.name))throw this._notifyInvalidEvent(e),Error("telemetry name required")},t.prototype._notifyInvalidEvent=function(e){this._notificationManager&&this._notificationManager.eventsDiscarded([e],Ie)},t}(Se);!function(e){e[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage"}(ve||(ve={})),function(e){e[e.Default=0]="Default",e[e.Required=1]="Required",e[e.Array=2]="Array",e[e.Hidden=4]="Hidden"}(me||(me={})),function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C",e[e.W3C=2]="W3C"}(ye||(ye={}));var Oe=function(){function e(){}return e.requestContextHeader="Request-Context",e.requestContextTargetKey="appId",e.requestContextAppIdFormat="appId=cid-v1:",e.requestIdHeader="Request-Id",e.traceParentHeader="traceparent",e.sdkContextHeader="Sdk-Context",e.sdkContextHeaderAppIdRequest="appId",e.requestContextHeaderLowerCase="request-context",e}(),Ee=function(){function e(){}return e.sanitizeKeyAndAddUniqueness=function(t,n,r){var i=n.length,a=e.sanitizeKey(t,n);if(a.length!==i){for(var o=0,s=a;void 0!==r[s];)o++,s=a.substring(0,e.MAX_NAME_LENGTH-3)+e.padNumber(o);a=s}return a},e.sanitizeKey=function(t,n){var r;return n&&(n=e.trim(n.toString())).length>e.MAX_NAME_LENGTH&&(r=n.substring(0,e.MAX_NAME_LENGTH),t.throwInternal(H.WARNING,K.NameTooLong,"name is too long.  It has been truncated to "+e.MAX_NAME_LENGTH+" characters.",{name:n},!0)),r||n},e.sanitizeString=function(t,n,r){var i;return void 0===r&&(r=e.MAX_STRING_LENGTH),n&&(r=r||e.MAX_STRING_LENGTH,(n=e.trim(n)).toString().length>r&&(i=n.toString().substring(0,r),t.throwInternal(H.WARNING,K.StringValueTooLong,"string value is too long. It has been truncated to "+r+" characters.",{value:n},!0))),i||n},e.sanitizeUrl=function(t,n){return e.sanitizeInput(t,n,e.MAX_URL_LENGTH,K.UrlTooLong)},e.sanitizeMessage=function(t,n){var r;return n&&n.length>e.MAX_MESSAGE_LENGTH&&(r=n.substring(0,e.MAX_MESSAGE_LENGTH),t.throwInternal(H.WARNING,K.MessageTruncated,"message is too long, it has been truncated to "+e.MAX_MESSAGE_LENGTH+" characters.",{message:n},!0)),r||n},e.sanitizeException=function(t,n){var r;return n&&n.length>e.MAX_EXCEPTION_LENGTH&&(r=n.substring(0,e.MAX_EXCEPTION_LENGTH),t.throwInternal(H.WARNING,K.ExceptionTruncated,"exception is too long, it has been truncated to "+e.MAX_EXCEPTION_LENGTH+" characters.",{exception:n},!0)),r||n},e.sanitizeProperties=function(t,n){if(n){var r={};for(var i in n){var a=n[i];if(z.isObject(a)&&C())try{a=D().stringify(a)}catch(o){t.throwInternal(H.WARNING,K.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:o},!0)}a=e.sanitizeString(t,a,e.MAX_PROPERTY_LENGTH),r[i=e.sanitizeKeyAndAddUniqueness(t,i,r)]=a}n=r}return n},e.sanitizeMeasurements=function(t,n){if(n){var r={};for(var i in n){var a=n[i];r[i=e.sanitizeKeyAndAddUniqueness(t,i,r)]=a}n=r}return n},e.sanitizeId=function(t,n){return n?e.sanitizeInput(t,n,e.MAX_ID_LENGTH,K.IdTooLong).toString():n},e.sanitizeInput=function(t,n,r,i){var a;return n&&(n=e.trim(n)).length>r&&(a=n.substring(0,r),t.throwInternal(H.WARNING,i,"input is too long, it has been truncated to "+r+" characters.",{data:n},!0)),a||n},e.padNumber=function(e){var t="00"+e;return t.substr(t.length-3)},e.trim=function(e){return z.isString(e)?e.replace(/^\s+|\s+$/g,""):e},e.MAX_NAME_LENGTH=150,e.MAX_ID_LENGTH=128,e.MAX_PROPERTY_LENGTH=8192,e.MAX_STRING_LENGTH=1024,e.MAX_URL_LENGTH=2048,e.MAX_MESSAGE_LENGTH=32768,e.MAX_EXCEPTION_LENGTH=32768,e}(),Ce=w(),De=z.isString,Pe=null;var Ae=function(){function e(){}return e.createDomEvent=function(e){var t=null;if(z.isFunction(Event))t=new Event(e);else{var n=I();n&&n.createEvent&&(t=n.createEvent("Event")).initEvent(e,!0,!0)}return t},e.disableStorage=function(){e._canUseLocalStorage=!1,e._canUseSessionStorage=!1},e._getLocalStorageObject=function(){return e.canUseLocalStorage()?e._getVerifiedStorageObject(ve.LocalStorage):null},e._getVerifiedStorageObject=function(e){var t,n,r=null;try{if(z.isNullOrUndefined(y()))return null;n=new Date,(r=e===ve.LocalStorage?b("localStorage"):b("sessionStorage")).setItem(n.toString(),n.toString()),t=r.getItem(n.toString())!==n.toString(),r.removeItem(n.toString()),t&&(r=null)}catch(i){r=null}return r},e.isInternalApplicationInsightsEndpoint=function(t){return-1!==e._internalEndpoints.indexOf(t.toLowerCase())},e.canUseLocalStorage=function(){return void 0===e._canUseLocalStorage&&(e._canUseLocalStorage=!!e._getVerifiedStorageObject(ve.LocalStorage)),e._canUseLocalStorage},e.getStorage=function(t,n){var r=e._getLocalStorageObject();if(null!==r)try{return r.getItem(n)}catch(i){e._canUseLocalStorage=!1,t.throwInternal(H.WARNING,K.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+e.getExceptionName(i),{exception:e.dump(i)})}return null},e.setStorage=function(t,n,r){var i=e._getLocalStorageObject();if(null!==i)try{return i.setItem(n,r),!0}catch(a){e._canUseLocalStorage=!1,t.throwInternal(H.WARNING,K.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+e.getExceptionName(a),{exception:e.dump(a)})}return!1},e.removeStorage=function(t,n){var r=e._getLocalStorageObject();if(null!==r)try{return r.removeItem(n),!0}catch(i){e._canUseLocalStorage=!1,t.throwInternal(H.WARNING,K.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+e.getExceptionName(i),{exception:e.dump(i)})}return!1},e._getSessionStorageObject=function(){return e.canUseSessionStorage()?e._getVerifiedStorageObject(ve.SessionStorage):null},e.canUseSessionStorage=function(){return void 0===e._canUseSessionStorage&&(e._canUseSessionStorage=!!e._getVerifiedStorageObject(ve.SessionStorage)),e._canUseSessionStorage},e.getSessionStorageKeys=function(){var t=[];if(e.canUseSessionStorage())for(var n in b("sessionStorage"))t.push(n);return t},e.getSessionStorage=function(t,n){var r=e._getSessionStorageObject();if(null!==r)try{return r.getItem(n)}catch(i){e._canUseSessionStorage=!1,t.throwInternal(H.WARNING,K.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+e.getExceptionName(i),{exception:e.dump(i)})}return null},e.setSessionStorage=function(t,n,r){var i=e._getSessionStorageObject();if(null!==i)try{return i.setItem(n,r),!0}catch(a){e._canUseSessionStorage=!1,t.throwInternal(H.WARNING,K.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+e.getExceptionName(a),{exception:e.dump(a)})}return!1},e.removeSessionStorage=function(t,n){var r=e._getSessionStorageObject();if(null!==r)try{return r.removeItem(n),!0}catch(i){e._canUseSessionStorage=!1,t.throwInternal(H.WARNING,K.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+e.getExceptionName(i),{exception:e.dump(i)})}return!1},e.disableCookies=function(){z.disableCookies()},e.canUseCookies=function(t){if(void 0===z._canUseCookies){z._canUseCookies=!1;try{z._canUseCookies=void 0!==e.document.cookie}catch(n){t.throwInternal(H.WARNING,K.CannotAccessCookie,"Cannot access document.cookie - "+e.getExceptionName(n),{exception:e.dump(n)})}}return z._canUseCookies},e.disallowsSameSiteNone=function(e){return!!De(e)&&(-1!==e.indexOf("CPU iPhone OS 12")||-1!==e.indexOf("iPad; CPU OS 12")||(-1!==e.indexOf("Macintosh; Intel Mac OS X 10_14")&&-1!==e.indexOf("Version/")&&-1!==e.indexOf("Safari")||(!(-1===e.indexOf("Macintosh; Intel Mac OS X 10_14")||!function(e,t){var n=e.length,r=n-t.length;return e.substring(r>=0?r:0,n)===t}(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))||(-1!==e.indexOf("Chrome/5")||-1!==e.indexOf("Chrome/6")||(-1!==e.indexOf("UnrealEngine")&&-1===e.indexOf("Chrome")||(-1!==e.indexOf("UCBrowser/12")||-1!==e.indexOf("UCBrowser/11")))))))},e.setCookie=function(t,n,r,i){if(e.canUseCookies(t)){var a="",o="";i&&(a=";domain="+i);var s=O();s&&"https:"===s.protocol&&(o=";secure",null===Pe&&(Pe=e.disallowsSameSiteNone((w()||{}).userAgent)),Pe||(r+=";SameSite=None")),e.document.cookie=n+"="+r+a+";path=/"+o}},e.stringToBoolOrDefault=function(e,t){return void 0===t&&(t=!1),void 0===e||null===e?t:"true"===e.toString().toLowerCase()},e.getCookie=function(t,n){if(e.canUseCookies(t)){var r="";if(n&&n.length)for(var i=n+"=",a=e.document.cookie.split(";"),o=0;o<a.length;o++){var s=a[o];if((s=e.trim(s))&&0===s.indexOf(i)){r=s.substring(i.length,a[o].length);break}}return r}},e.deleteCookie=function(t,n){e.canUseCookies(t)&&(e.document.cookie=n+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;")},e.newId=function(){for(var e="",t=1073741824*Math.random();t>0;){e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t%64),t=Math.floor(t/64)}return e},e.random32=function(){return 4294967296*Math.random()|0},e.generateW3CId=function(){for(var t,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r="",i=0;i<4;i++)r+=n[15&(t=e.random32())]+n[t>>4&15]+n[t>>8&15]+n[t>>12&15]+n[t>>16&15]+n[t>>20&15]+n[t>>24&15]+n[t>>28&15];var a=n[8+4*Math.random()|0];return r.substr(0,8)+r.substr(9,4)+"4"+r.substr(13,3)+a+r.substr(16,3)+r.substr(19,12)},e.isArray=function(e){return"[object Array]"===Object[s].toString.call(e)},e.isError=function(e){return"[object Error]"===Object[s].toString.call(e)},e.getIEVersion=function(e){void 0===e&&(e=null);var t=e?e.toLowerCase():Ce?(Ce.userAgent||"").toLowerCase():"";if(-1!==t.indexOf("msie"))return parseInt(t.split("msie")[1]);if(t.indexOf("trident/")){var n=parseInt(t.split("trident/")[1]);if(n)return n+4}return null},e.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,n=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24,a=Math.floor(e/864e5);return t=1===t.length?"00"+t:2===t.length?"0"+t:t,n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r,(a>0?a+".":"")+(i=i.length<2?"0"+i:i)+":"+r+":"+n+"."+t},e.isCrossOriginError=function(e,t,n,r,i){return("Script error."===e||"Script error"===e)&&!i},e.dump=function(e){var t=Object[s].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":C()&&(n=D().stringify(e)),t+n},e.getExceptionName=function(e){return"[object Error]"===Object[s].toString.call(e)?e.name:""},e.addEventHandler=function(e,t){return W.Attach(_(),e,t)},e.IsBeaconApiSupported=function(){return"sendBeacon"in Ce&&Ce.sendBeacon},e.getExtension=function(e,t){for(var n=null,r=0;!n&&r<e.length;)e[r]&&e[r].identifier===t&&(n=e[r]),r++;return n},e.document=I()||{},e._canUseLocalStorage=void 0,e._canUseSessionStorage=void 0,e._internalEndpoints=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],e.NotSpecified="not_specified",e.trim=z.strTrim,e.isDate=z.isDate,e.toISOStringForIE8=z.toISOString,e}(),ke=function(){function e(){}return e.parseUrl=function(t){var n=e._htmlAnchorIdx,r=e._htmlAnchorElement,i=r[n];return e.document.createElement?r[n]||(i=r[n]=e.document.createElement("a")):i={host:e.parseHost(t,!0)},i.href=t,++n>=r.length&&(n=0),e._htmlAnchorIdx=n,i},e.getAbsoluteUrl=function(t){var n,r=e.parseUrl(t);return r&&(n=r.href),n},e.getPathName=function(t){var n,r=e.parseUrl(t);return r&&(n=r.pathname),n},e.getCompleteUrl=function(e,t){return e?e.toUpperCase()+" "+t:t},e.parseHost=function(t,n){var r=e.parseFullHost(t,n);if(r){var i=r.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=i&&i.length>3&&De(i[2])&&i[2].length>0)return i[2]+(i[3]||"")}return r},e.parseFullHost=function(e,t){var n=null;if(e){var r=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(null!=r&&r.length>2&&De(r[2])&&r[2].length>0&&(n=r[2]||"",t&&r.length>2)){var i=(r[1]||"").toLowerCase(),a=r[3]||"";"http"===i&&":80"===a?a="":"https"===i&&":443"===a&&(a=""),n+=a}}return n},e.document=I()||{},e._htmlAnchorIdx=0,e._htmlAnchorElement=[null,null,null,null,null],e}(),Ne=function(){function e(){}return e.canIncludeCorrelationHeader=function(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e.correlationHeaderExcludePatterns)for(var r=0;r<e.correlationHeaderExcludePatterns.length;r++)if(e.correlationHeaderExcludePatterns[r].test(t))return!1;var i=ke.parseUrl(t).host.toLowerCase();if(!i||-1===i.indexOf(":443")&&-1===i.indexOf(":80")||(i=(ke.parseFullHost(t,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&i!==n)return!1;var a,o=e&&e.correlationHeaderDomains;if(o&&(z.arrForEach(o,(function(e){var t=new RegExp(e.toLowerCase().replace(/\./g,".").replace(/\*/g,".*"));a=a||t.test(i)})),!a))return!1;var s=e&&e.correlationHeaderExcludedDomains;if(!s||0===s.length)return!0;for(r=0;r<s.length;r++){if(new RegExp(s[r].toLowerCase().replace(/\./g,".").replace(/\*/g,".*")).test(i))return!1}return i&&i.length>0},e.getCorrelationContext=function(t){if(t){var n=e.getCorrelationContextValue(t,Oe.requestContextTargetKey);if(n&&n!==e.correlationIdPrefix)return n}},e.getCorrelationContextValue=function(e,t){if(e)for(var n=e.split(","),r=0;r<n.length;++r){var i=n[r].split("=");if(2===i.length&&i[0]===t)return i[1]}},e.correlationIdPrefix="cid-v1:",e}(),je=function(){function e(){}return e.ParseDependencyPath=function(e,t,n,r){var i,a=r,o=r;if(t&&t.length>0){var s=ke.parseUrl(t);if(i=s.host,!a)if(null!=s.pathname){var c=0===s.pathname.length?"/":s.pathname;"/"!==c.charAt(0)&&(c="/"+c),o=s.pathname,a=Ee.sanitizeString(e,n?n+" "+c:c)}else a=Ee.sanitizeString(e,t)}else i=r,a=r;return{target:i,name:a,data:o}},e}(),Re=function(){function e(){}return e.Now=function(){var e=E();return e&&e.now&&e.timing?e.now()+e.timing.navigationStart:(new Date).getTime()},e.GetDuration=function(e,t){var n=null;return 0===e||0===t||z.isNullOrUndefined(e)||z.isNullOrUndefined(t)||(n=t-e),n},e}(),Le="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Me="sampleRate",Ue="ProcessLegacy",Fe="http.method",qe="https://dc.services.visualstudio.com",Be=function(){function e(){}return e.parse=function(t){if(!t)return{};var n=t.split(e._FIELDS_SEPARATOR),r=z.arrReduce(n,(function(t,n){var r=n.split(e._FIELD_KEY_VALUE_SEPARATOR);if(2===r.length){var i=r[0].toLowerCase(),a=r[1];t[i]=a}return t}),{});if(z.objKeys(r).length>0){if(r.endpointsuffix){var i=r.location?r.location+".":"";r.ingestionendpoint=r.ingestionendpoint||"https://"+i+"dc."+r.endpointsuffix}r.ingestionendpoint=r.ingestionendpoint||qe}return r},e._FIELDS_SEPARATOR=";",e._FIELD_KEY_VALUE_SEPARATOR="=",e}(),Ve=function(){},He=function(e){function t(){return e.call(this)||this}return __extends(t,e),t}(Ve),ze=function(e){function t(t,n,r){var i=e.call(this)||this;return i.name=Ee.sanitizeString(t,r)||Ae.NotSpecified,i.data=n,i.time=z.toISOString(new Date),i.aiDataContract={time:me.Required,iKey:me.Required,name:me.Required,sampleRate:function(){return 100===i.sampleRate?me.Hidden:me.Required},tags:me.Required,data:me.Required},i}return __extends(t,e),t}((function(){this.ver=1,this.sampleRate=100,this.tags={}})),Ge=function(){},We=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return __extends(t,e),t}(Ge),Ke=function(e){function t(t,n,r,i){var a=e.call(this)||this;return a.aiDataContract={ver:me.Required,name:me.Required,properties:me.Default,measurements:me.Default},a.name=Ee.sanitizeString(t,n)||Ae.NotSpecified,a.properties=Ee.sanitizeProperties(t,r),a.measurements=Ee.sanitizeMeasurements(t,i),a}return __extends(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}(We),Xe=function(){},Ye=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}return __extends(t,e),t}(Ge),Qe=function(){this.hasFullStack=!0,this.parsedStack=[]},Ze="error";var Je,$e=function(e){function t(t,n,r,i,a,o){var s,c=e.call(this)||this;return c.aiDataContract={ver:me.Required,exceptions:me.Required,severityLevel:me.Default,properties:me.Default,measurements:me.Default},"ver"in(s=n)&&"exceptions"in s&&"properties"in s?(c.exceptions=n.exceptions,c.properties=n.properties,c.measurements=n.measurements,n.severityLevel&&(c.severityLevel=n.severityLevel),n.id&&(c.id=n.id),n.problemGroup&&(c.problemGroup=n.problemGroup),c.ver=2,z.isNullOrUndefined(n.isManual)||(c.isManual=n.isManual)):(c.exceptions=[new et(t,n)],c.properties=Ee.sanitizeProperties(t,r)||{},c.measurements=Ee.sanitizeMeasurements(t,i),a&&(c.severityLevel=a),o&&(c.id=o)),c}return __extends(t,e),t.CreateFromInterface=function(e,n,r,i){var a=n.exceptions&&z.arrMap(n.exceptions,(function(t){return et.CreateFromInterface(e,t)}));return new t(e,__assign({},n,{exceptions:a}),r,i)},t.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,r=e.measurements,i=e.severityLevel,a=(e.ver,e.problemGroup),o=e.id,s=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&z.arrMap(t,(function(e){return e.toInterface()}))||void 0,severityLevel:i,properties:n,measurements:r,problemGroup:a,id:o,isManual:s}},t.CreateSimpleException=function(e,t,n,r,i,a){return{exceptions:[{hasFullStack:!0,message:e,stack:i,typeName:t}]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t}(Ye),et=function(e){function t(n,r){var i,a=e.call(this)||this;if(a.aiDataContract={id:me.Default,outerId:me.Default,typeName:me.Required,message:me.Required,hasFullStack:me.Default,stack:me.Default,parsedStack:me.Array},"hasFullStack"in(i=r)&&"typeName"in i)a.typeName=r.typeName,a.message=r.message,a.stack=r.stack,a.parsedStack=r.parsedStack,a.hasFullStack=r.hasFullStack;else{var o=r;Ae.isError(o)||(o=o[Ze]||o.evt||o),a.typeName=Ee.sanitizeString(n,function(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,})\(/.exec(e.constructor.toString());t=n&&n.length>1?n[1]:""}catch(r){}return t}(o))||Ae.NotSpecified,a.message=Ee.sanitizeMessage(n,r.message)||Ae.NotSpecified;var s=r.stack;a.parsedStack=t.parseStack(s),a.stack=Ee.sanitizeException(n,s),a.hasFullStack=Ae.isArray(a.parsedStack)&&a.parsedStack.length>0}return a}return __extends(t,e),t.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&z.arrMap(this.parsedStack,(function(e){return e.toInterface()}));return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this.stack,parsedStack:e||void 0}},t.CreateFromInterface=function(e,n){var r=n.parsedStack instanceof Array&&z.arrMap(n.parsedStack,(function(e){return tt.CreateFromInterface(e)}))||n.parsedStack;return new t(e,__assign({},n,{parsedStack:r}))},t.parseStack=function(e){var t;if(z.isString(e)){var n=e.split("\n");t=[];for(var r=0,i=0,a=0;a<=n.length;a++){var o=n[a];if(tt.regex.test(o)){var s=new tt(n[a],r++);i+=s.sizeInBytes,t.push(s)}}if(i>32768)for(var c=0,u=t.length-1,l=0,f=c,p=u;c<u;){if((l+=t[c].sizeInBytes+t[u].sizeInBytes)>32768){var d=p-f+1;t.splice(f,d);break}f=c,p=u,c++,u--}}return t},t}(Qe),tt=function(e){function t(n,r){var i=e.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:me.Required,method:me.Required,assembly:me.Default,fileName:me.Default,line:me.Default},"string"===typeof n){var a=n;i.level=r,i.method="<no_method>",i.assembly=Ae.trim(a),i.fileName="",i.line=0;var o=a.match(t.regex);o&&o.length>=5&&(i.method=Ae.trim(o[2])||i.method,i.fileName=Ae.trim(o[4]),i.line=parseInt(o[5])||0)}else i.level=n.level,i.method=n.method,i.assembly=n.assembly,i.fileName=n.fileName,i.line=n.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=t.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}return __extends(t,e),t.CreateFromInterface=function(e){return new t(e,null)},t.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},t.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}(Xe),nt=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t.measurements={},t}return __extends(t,e),t}(Ge);!function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"}(Je||(Je={}));var rt,it=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aiDataContract={name:me.Required,kind:me.Default,value:me.Required,count:me.Default,min:me.Default,max:me.Default,stdDev:me.Default},t}return __extends(t,e),t}((function(){this.kind=Je.Measurement})),at=function(e){function t(t,n,r,i,a,o,s,c){var u=e.call(this)||this;u.aiDataContract={ver:me.Required,metrics:me.Required,properties:me.Default};var l=new it;return l.count=i>0?i:void 0,l.max=isNaN(o)||null===o?void 0:o,l.min=isNaN(a)||null===a?void 0:a,l.name=Ee.sanitizeString(t,n)||Ae.NotSpecified,l.value=r,u.metrics=[l],u.properties=Ee.sanitizeProperties(t,s),u.measurements=Ee.sanitizeMeasurements(t,c),u}return __extends(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}(nt),ot=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return __extends(t,e),t}(We),st=function(e){function t(t,n,r,i,a,o,s){var c=e.call(this)||this;return c.aiDataContract={ver:me.Required,name:me.Default,url:me.Default,duration:me.Default,properties:me.Default,measurements:me.Default,id:me.Default},c.id=Ee.sanitizeId(t,s),c.url=Ee.sanitizeUrl(t,r),c.name=Ee.sanitizeString(t,n)||Ae.NotSpecified,isNaN(i)||(c.duration=Ae.msToTimeSpan(i)),c.properties=Ee.sanitizeProperties(t,a),c.measurements=Ee.sanitizeMeasurements(t,o),c}return __extends(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}(ot),ct=function(e){function t(t,n,r,i,a,o,s,c,u,l,f,p){void 0===u&&(u="Ajax");var d=e.call(this)||this;d.aiDataContract={id:me.Required,ver:me.Required,name:me.Default,resultCode:me.Default,duration:me.Default,success:me.Default,data:me.Default,target:me.Default,type:me.Default,properties:me.Default,measurements:me.Default,kind:me.Default,value:me.Default,count:me.Default,min:me.Default,max:me.Default,stdDev:me.Default,dependencyKind:me.Default,dependencySource:me.Default,commandName:me.Default,dependencyTypeName:me.Default},d.id=n,d.duration=Ae.msToTimeSpan(a),d.success=o,d.resultCode=s+"",d.type=Ee.sanitizeString(t,u);var h=je.ParseDependencyPath(t,r,c,i);return d.data=Ee.sanitizeUrl(t,i)||h.data,d.target=Ee.sanitizeString(t,h.target),l&&(d.target=d.target+" | "+l),d.name=Ee.sanitizeString(t,h.name),d.properties=Ee.sanitizeProperties(t,f),d.measurements=Ee.sanitizeMeasurements(t,p),d}return __extends(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}(function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}return __extends(t,e),t}(Ge)),ut=function(e){function t(t,n,r,i,a){var o=e.call(this)||this;return o.aiDataContract={ver:me.Required,message:me.Required,severityLevel:me.Default,properties:me.Default},n=n||Ae.NotSpecified,o.message=Ee.sanitizeMessage(t,n),o.properties=Ee.sanitizeProperties(t,i),o.measurements=Ee.sanitizeMeasurements(t,a),r&&(o.severityLevel=r),o}return __extends(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}(function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return __extends(t,e),t}(Ge)),lt=function(e){function t(t,n,r,i,a,o,s){var c=e.call(this)||this;return c.aiDataContract={ver:me.Required,name:me.Default,url:me.Default,duration:me.Default,perfTotal:me.Default,networkConnect:me.Default,sentRequest:me.Default,receivedResponse:me.Default,domProcessing:me.Default,properties:me.Default,measurements:me.Default},c.url=Ee.sanitizeUrl(t,r),c.name=Ee.sanitizeString(t,n)||Ae.NotSpecified,c.properties=Ee.sanitizeProperties(t,a),c.measurements=Ee.sanitizeMeasurements(t,o),s&&(c.domProcessing=s.domProcessing,c.duration=s.duration,c.networkConnect=s.networkConnect,c.perfTotal=s.perfTotal,c.receivedResponse=s.receivedResponse,c.sentRequest=s.sentRequest),c}return __extends(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}(function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return __extends(t,e),t}(ot)),ft=function(e){function t(t,n){var r=e.call(this)||this;return r.aiDataContract={baseType:me.Required,baseData:me.Required},r.baseType=t,r.baseData=n,r}return __extends(t,e),t}(He);!function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"}(rt||(rt={}));var pt=function(){function e(){}return e.getConfig=function(e,t,n,r){var i;return void 0===r&&(r=!1),i=n&&e.extensionConfig&&e.extensionConfig[n]&&!z.isNullOrUndefined(e.extensionConfig[n][t])?e.extensionConfig[n][t]:e[t],z.isNullOrUndefined(i)?r:i},e}(),dt=function(){this.applicationVersion="ai.application.ver",this.applicationBuild="ai.application.build",this.applicationTypeId="ai.application.typeId",this.applicationId="ai.application.applicationId",this.applicationLayer="ai.application.layer",this.deviceId="ai.device.id",this.deviceIp="ai.device.ip",this.deviceLanguage="ai.device.language",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceFriendlyName="ai.device.friendlyName",this.deviceNetwork="ai.device.network",this.deviceNetworkName="ai.device.networkName",this.deviceOEMName="ai.device.oemName",this.deviceOS="ai.device.os",this.deviceOSVersion="ai.device.osVersion",this.deviceRoleInstance="ai.device.roleInstance",this.deviceRoleName="ai.device.roleName",this.deviceScreenResolution="ai.device.screenResolution",this.deviceType="ai.device.type",this.deviceMachineName="ai.device.machineName",this.deviceVMName="ai.device.vmName",this.deviceBrowser="ai.device.browser",this.deviceBrowserVersion="ai.device.browserVersion",this.locationIp="ai.location.ip",this.locationCountry="ai.location.country",this.locationProvince="ai.location.province",this.locationCity="ai.location.city",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationRootId="ai.operation.rootId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.sessionIsNew="ai.session.isNew",this.userAccountAcquisitionDate="ai.user.accountAcquisitionDate",this.userAccountId="ai.user.accountId",this.userAgent="ai.user.userAgent",this.userId="ai.user.id",this.userStoreRegion="ai.user.storeRegion",this.userAuthUserId="ai.user.authUserId",this.userAnonymousUserAcquisitionDate="ai.user.anonUserAcquisitionDate",this.userAuthenticatedUserAcquisitionDate="ai.user.authUserAcquisitionDate",this.cloudName="ai.cloud.name",this.cloudRole="ai.cloud.role",this.cloudRoleVer="ai.cloud.roleVer",this.cloudRoleInstance="ai.cloud.roleInstance",this.cloudEnvironment="ai.cloud.environment",this.cloudLocation="ai.cloud.location",this.cloudDeploymentUnit="ai.cloud.deploymentUnit",this.internalNodeName="ai.internal.nodeName",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalSnippet="ai.internal.snippet",this.internalSdkSrc="ai.internal.sdkSrc"},ht=function(){function e(){}return e.create=function(e,t,n,r,i,a){if(n=Ee.sanitizeString(r,n)||Ae.NotSpecified,z.isNullOrUndefined(e)||z.isNullOrUndefined(t)||z.isNullOrUndefined(n))throw Error("Input doesn't contain all required fields");var o={name:n,time:z.toISOString(new Date),iKey:"",ext:a||{},tags:[],data:{},baseType:t,baseData:e};if(!z.isNullOrUndefined(i))for(var s in i)i.hasOwnProperty(s)&&(o.data[s]=i[s]);return o},e}(),gt=function(){function e(){}return e.UserExt="user",e.DeviceExt="device",e.TraceExt="trace",e.WebExt="web",e.AppExt="app",e.OSExt="os",e.SessionExt="ses",e.SDKExt="sdk",e}(),vt=new dt,mt="AppInsightsPropertiesPlugin",yt="AppInsightsChannelPlugin",bt="ApplicationInsightsAnalytics",xt="constructor",_t="prototype",St="function",It="_dynInstFuncs",wt="_isDynProxy",Tt="_dynClass",Ot="_dynCls$",Et="_unknown_",Ct="__proto__",Dt=Object.getPrototypeOf,Pt=0;function At(e,t){return e&&Object[_t].hasOwnProperty.call(e,t)}function kt(e){return typeof e===St}function Nt(e){return e&&(e===Object[_t]||e===Array[_t])}function jt(e){return Nt(e)||e===Function[_t]}function Rt(e){if(e){if(Dt)return Dt(e);var t=e[Ct]||e[_t]||e[xt];if(t)return t}return null}function Lt(e,t,n){return t!==xt&&kt(e[t])&&(n||At(e,t))}function Mt(e){throw new TypeError("DynamicProto: "+e)}function Ut(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function Ft(e,t){return At(e,_t)?e.name||t||Et:((e||{})[xt]||{}).name||t||Et}var qt=function(e,t,n){At(e,_t)||Mt("theClass is an invalid class definition.");var r=e[_t];(function(e,t){for(var n=Rt(t);n&&!jt(n);){if(n===e)return!0;n=Rt(n)}return!1})(r,t)||Mt("["+Ft(e)+"] is not in class heirarchy of ["+Ft(t)+"]");var i=null;At(r,Tt)?i=r[Tt]:(i=Ot+Ft(e,"_")+"$"+Pt,Pt++,r[Tt]=i);var a=function(e){var t={};for(var n in e)!t[n]&&Lt(e,n,!1)&&(t[n]=e[n]);return t}(t);n(t,function(e,t,n){function r(e,t){return function(){return t.apply(e,arguments)}}var i={};for(var a in n)i[a]=r(t,n[a]);for(var o=Rt(e),s=[];o&&!jt(o)&&!Ut(s,o);){for(var a in o)!i[a]&&Lt(o,a,!Dt)&&(i[a]=r(t,o[a]));s.push(o),o=Rt(o)}return i}(r,t,a)),function(e,t,n,r){function i(e,t){var n=function(){var r=this;if(r&&At(e,Tt)){var i=((r[It]||{})[e[Tt]]||{})[t];if(i)return i.apply(r,arguments);Mt("Missing ["+t+"] "+St)}var a=e[t];return a===n&&(a=Rt(e)[t]),kt(a)||Mt("["+t+"] is not a "+St),a.apply(r,arguments)};return n[wt]=1,n}if(!Nt(e)){var a=n[It]=n[It]||{},o=a[t]=a[t]||{};for(var s in n)Lt(n,s,!1)&&n[s]!==r[s]&&(o[s]=n[s],delete n[s],(!At(e,s)||e[s]&&!e[s][wt])&&(e[s]=i(e,s)))}}(r,i,t,a)},Bt=function e(t,n,r,i){qt(e,this,(function(e){var a,o=z.arrForEach,s=z.isNullOrUndefined,c=null,u=[],l=!1;function f(){r&&o(r.getTransmissionControls(),(function(e){o(e,(function(e){return e.flush(!0)}))}))}r&&(a=r.logger),e.trackPageView=function(e,r){var p=e.name;if(s(p)||"string"!==typeof p){var d=I();p=e.name=d&&d.title||""}var h=e.uri;if(s(h)||"string"!==typeof h){var g=O();h=e.uri=g&&g.href||""}if(!i.isPerformanceTimingSupported())return t.sendPageViewInternal(e,r),f(),void a.throwInternal(H.WARNING,K.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var v,m,y,b=!1,x=i.getPerformanceTiming().navigationStart;v=Re.GetDuration(x,+new Date),i.shouldCollectDuration(v)||(v=void 0),s(r)||s(r.duration)||(m=r.duration),!n&&isNaN(m)||(isNaN(m)&&(r||(r={}),r.duration=v),t.sendPageViewInternal(e,r),f(),b=!0),r||(r={}),y=function(){var n=!1;try{if(i.isPerformanceTimingDataReady()){n=!0;var o={name:p,uri:h};i.populatePageViewPerformanceEvent(o),o.isValid||b?(b||(r.duration=o.durationMs,t.sendPageViewInternal(e,r)),l||(t.sendPageViewPerformanceInternal(o,r),l=!0)):(r.duration=v,t.sendPageViewInternal(e,r))}else Re.GetDuration(x,+new Date)>6e4&&(n=!0,b||(r.duration=6e4,t.sendPageViewInternal(e,r)))}catch(s){a.throwInternal(H.CRITICAL,K.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+Ae.getExceptionName(s),{exception:Ae.dump(s)})}return n},u.push(y),c||(c=setInterval((function(){var e=u.slice(0),t=!1;u=[],o(e,(function(e){e()?t=!0:u.push(e)})),0===u.length&&(clearInterval(c),c=null),t&&f()}),100))}}))},Vt=function(){function e(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}return e.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(r){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+Ae.dump(r))}},e.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(r){return this._logger.warnToConsole("Call to restart failed: "+Ae.dump(r)),null}},e.prototype.startPageVisitTimer=function(e,t){try{if(Ae.canUseSessionStorage()){if(null!=Ae.getSessionStorage(this._logger,this.prevPageVisitDataKeyName))throw new Error("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new Ht(e,t),r=D().stringify(n);Ae.setSessionStorage(this._logger,this.prevPageVisitDataKeyName,r)}}catch(i){this._logger.warnToConsole("Call to start failed: "+Ae.dump(i))}},e.prototype.stopPageVisitTimer=function(){try{if(Ae.canUseSessionStorage()){var e=Date.now(),t=Ae.getSessionStorage(this._logger,this.prevPageVisitDataKeyName);if(t&&C()){var n=D().parse(t);return n.pageVisitTime=e-n.pageVisitStartTime,Ae.removeSessionStorage(this._logger,this.prevPageVisitDataKeyName),n}return null}return null}catch(r){return this._logger.warnToConsole("Stop page visit timer failed: "+Ae.dump(r)),null}},e}(),Ht=function(e,t){this.pageVisitStartTime=Date.now(),this.pageName=e,this.pageUrl=t},zt=function(){function e(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}return e.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming();if(t||n){if(t)var r=t.duration,i=Re.GetDuration(t.startTime,t.connectEnd),a=Re.GetDuration(t.requestStart,t.responseStart),o=Re.GetDuration(t.responseStart,t.responseEnd),s=Re.GetDuration(t.responseEnd,t.loadEventEnd);else r=Re.GetDuration(n.navigationStart,n.loadEventEnd),i=Re.GetDuration(n.navigationStart,n.connectEnd),a=Re.GetDuration(n.requestStart,n.responseStart),o=Re.GetDuration(n.responseStart,n.responseEnd),s=Re.GetDuration(n.responseEnd,n.loadEventEnd);0===r?this._logger.throwInternal(H.WARNING,K.ErrorPVCalc,"error calculating page view performance.",{total:r,network:i,request:a,response:o,dom:s}):this.shouldCollectDuration(r,i,a,o,s)?r<Math.floor(i)+Math.floor(a)+Math.floor(o)+Math.floor(s)?this._logger.throwInternal(H.WARNING,K.ClientPerformanceMathError,"client performance math error.",{total:r,network:i,request:a,response:o,dom:s}):(e.durationMs=r,e.perfTotal=e.duration=Ae.msToTimeSpan(r),e.networkConnect=Ae.msToTimeSpan(i),e.sentRequest=Ae.msToTimeSpan(a),e.receivedResponse=Ae.msToTimeSpan(o),e.domProcessing=Ae.msToTimeSpan(s),e.isValid=!0):this._logger.throwInternal(H.WARNING,K.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:r,network:i,request:a,response:o,dom:s})}},e.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?E().timing:null},e.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?E().getEntriesByType("navigation")[0]:null},e.prototype.isPerformanceNavigationTimingSupported=function(){var e=E();return e&&e.getEntriesByType&&e.getEntriesByType("navigation").length>0},e.prototype.isPerformanceTimingSupported=function(){var e=E();return e&&e.timing},e.prototype.isPerformanceTimingDataReady=function(){var e=E(),t=e?e.timing:0;return t&&t.domainLookupStart>0&&t.navigationStart>0&&t.responseStart>0&&t.requestStart>0&&t.loadEventEnd>0&&t.responseEnd>0&&t.connectEnd>0&&t.domLoading>0},e.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=w()||{},r=["googlebot","adsbot-google","apis-google","mediapartners-google"],i=n.userAgent,a=!1;if(i)for(var o=0;o<r.length;o++)a=a||-1!==i.toLowerCase().indexOf(r[o]);if(a)return!1;for(o=0;o<e.length;o++)if(e[o]>=this.MAX_DURATION_ALLOWED)return!1;return!0},e}();function Gt(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var Wt=function(e){function t(){var t=e.call(this)||this;t.identifier=bt,t.priority=180,t.autoRoutePVDelay=500,t._trackAjaxAttempts=0;var n=O();return t._prevUri=n&&n.href||"",t}return __extends(t,e),t.getDefaultConfig=function(e){return e||(e={}),e.sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.disableExceptionTracking=Ae.stringToBoolOrDefault(e.disableExceptionTracking),e.autoTrackPageVisitTime=Ae.stringToBoolOrDefault(e.autoTrackPageVisitTime),e.overridePageViewDuration=Ae.stringToBoolOrDefault(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=Ae.stringToBoolOrDefault(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.isCookieUseDisabled=Ae.stringToBoolOrDefault(e.isCookieUseDisabled),e.isStorageUseDisabled=Ae.stringToBoolOrDefault(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=Ae.stringToBoolOrDefault(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=Ae.stringToBoolOrDefault(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e},t.prototype.processTelemetry=function(e,t){var n=!1,r=this._telemetryInitializers.length;t=this._getTelCtx(t);for(var i=0;i<r;++i){var a=this._telemetryInitializers[i];if(a)try{if(!1===a.apply(null,[e])){n=!0;break}}catch(o){t.diagLog().throwInternal(H.CRITICAL,K.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Ae.getExceptionName(o),{exception:Ae.dump(o)},!0)}}n||this.processNext(e,t)},t.prototype.trackEvent=function(e,t){try{var n=ht.create(e,Ke.dataType,Ke.envelopeType,this.diagLog(),t);this.core.track(n)}catch(r){this.diagLog().throwInternal(H.WARNING,K.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Ae.getExceptionName(r),{exception:Ae.dump(r)})}},t.prototype.startTrackEvent=function(e){try{this._eventTracking.start(e)}catch(t){this.diagLog().throwInternal(H.CRITICAL,K.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+Ae.getExceptionName(t),{exception:Ae.dump(t)})}},t.prototype.stopTrackEvent=function(e,t,n){try{this._eventTracking.stop(e,void 0,t)}catch(r){this.diagLog().throwInternal(H.CRITICAL,K.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+Ae.getExceptionName(r),{exception:Ae.dump(r)})}},t.prototype.trackTrace=function(e,t){try{var n=ht.create(e,ut.dataType,ut.envelopeType,this.diagLog(),t);this.core.track(n)}catch(r){this.diagLog().throwInternal(H.WARNING,K.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Ae.getExceptionName(r),{exception:Ae.dump(r)})}},t.prototype.trackMetric=function(e,t){try{var n=ht.create(e,at.dataType,at.envelopeType,this.diagLog(),t);this.core.track(n)}catch(r){this.diagLog().throwInternal(H.CRITICAL,K.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+Ae.getExceptionName(r),{exception:Ae.dump(r)})}},t.prototype.trackPageView=function(e,t){try{var n=e||{};this._pageViewManager.trackPageView(n,__assign({},n.properties,n.measurements,t)),this.config.autoTrackPageVisitTime&&this._pageVisitTimeManager.trackPreviousPageVisit(n.name,n.uri)}catch(r){this.diagLog().throwInternal(H.CRITICAL,K.TrackPVFailed,"trackPageView failed, page view will not be collected: "+Ae.getExceptionName(r),{exception:Ae.dump(r)})}},t.prototype.sendPageViewInternal=function(e,t,n){var r=I();r&&(e.refUri=void 0===e.refUri?r.referrer:e.refUri);var i=ht.create(e,st.dataType,st.envelopeType,this.diagLog(),t,n);this.core.track(i),this._trackAjaxAttempts=0},t.prototype.sendPageViewPerformanceInternal=function(e,t,n){var r=ht.create(e,lt.dataType,lt.envelopeType,this.diagLog(),t,n);this.core.track(r)},t.prototype.trackPageViewPerformance=function(e,t){try{this._pageViewPerformanceManager.populatePageViewPerformanceEvent(e),this.sendPageViewPerformanceInternal(e,t)}catch(n){this.diagLog().throwInternal(H.CRITICAL,K.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+Ae.getExceptionName(n),{exception:Ae.dump(n)})}},t.prototype.startTrackPage=function(e){try{if("string"!==typeof e){var t=I();e=t&&t.title||""}this._pageTracking.start(e)}catch(n){this.diagLog().throwInternal(H.CRITICAL,K.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+Ae.getExceptionName(n),{exception:Ae.dump(n)})}},t.prototype.stopTrackPage=function(e,t,n,r){try{if("string"!==typeof e){var i=I();e=i&&i.title||""}if("string"!==typeof t){var a=O();t=a&&a.href||""}this._pageTracking.stop(e,t,n,r),this.config.autoTrackPageVisitTime&&this._pageVisitTimeManager.trackPreviousPageVisit(e,t)}catch(o){this.diagLog().throwInternal(H.CRITICAL,K.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+Ae.getExceptionName(o),{exception:Ae.dump(o)})}},t.prototype.sendExceptionInternal=function(e,t,n){var r=new $e(this.diagLog(),e.exception||new Error(Ae.NotSpecified),e.properties,e.measurements,e.severityLevel,e.id).toInterface(),i=ht.create(r,$e.dataType,$e.envelopeType,this.diagLog(),t,n);this.core.track(i)},t.prototype.trackException=function(e,t){try{this.sendExceptionInternal(e,t)}catch(n){this.diagLog().throwInternal(H.CRITICAL,K.TrackExceptionFailed,"trackException failed, exception will not be collected: "+Ae.getExceptionName(n),{exception:Ae.dump(n)})}},t.prototype._onerror=function(e){try{var t={url:e&&e.url||(I()||{}).URL,lineNumber:e.lineNumber,columnNumber:e.columnNumber,message:e.message};if(Ae.isCrossOriginError(e.message,e.url,e.lineNumber,e.columnNumber,e.error))this._sendCORSException(t.url);else{if(!Ae.isError(e.error)){var n="window.onerror@"+t.url+":"+e.lineNumber+":"+(e.columnNumber||0);e.error=new Error(e.message),e.error.stack=n}this.trackException({exception:e.error,severityLevel:rt.Error},t)}}catch(i){var r=e.error?e.error.name+", "+e.error.message:"null";this.diagLog().throwInternal(H.CRITICAL,K.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+Ae.getExceptionName(i),{exception:Ae.dump(i),errorString:r})}},t.prototype.addTelemetryInitializer=function(e){this._telemetryInitializers.push(e)},t.prototype.initialize=function(n,r,i,a){var o=this;if(!this.isInitialized()){if(z.isNullOrUndefined(r))throw Error("Error initializing");e.prototype.initialize.call(this,n,r,i,a),this.setInitialized(!1);var s=this._getTelCtx(),c=this.identifier;this._globalconfig={instrumentationKey:n.instrumentationKey,endpointUrl:n.endpointUrl||"https://dc.services.visualstudio.com/v2/track"},this.config=s.getExtCfg(c);var u=t.getDefaultConfig();if(void 0!==u){for(var l in u)this.config[l]=s.getConfig(c,l,u[l]);if(this._globalconfig)for(var l in u)void 0===this._globalconfig[l]&&(this._globalconfig[l]=u[l])}this.config.isCookieUseDisabled&&Ae.disableCookies(),this.config.isStorageUseDisabled&&Ae.disableStorage();var f={instrumentationKey:function(){return n.instrumentationKey},accountId:function(){return o.config.accountId||n.accountId},sessionRenewalMs:function(){return o.config.sessionRenewalMs||n.sessionRenewalMs},sessionExpirationMs:function(){return o.config.sessionExpirationMs||n.sessionExpirationMs},sampleRate:function(){return o.config.samplingPercentage||n.samplingPercentage},cookieDomain:function(){return o.config.cookieDomain||n.cookieDomain},sdkExtension:function(){return o.config.sdkExtension||n.sdkExtension},isBrowserLinkTrackingEnabled:function(){return o.config.isBrowserLinkTrackingEnabled||n.isBrowserLinkTrackingEnabled},appId:function(){return o.config.appId||n.appId}};this._pageViewPerformanceManager=new zt(this.core),this._pageViewManager=new Bt(this,this.config.overridePageViewDuration,this.core,this._pageViewPerformanceManager),this._pageVisitTimeManager=new Vt(this.diagLog(),(function(e,t,n){return o.trackPageVisitTime(e,t,n)})),this._telemetryInitializers=this._telemetryInitializers||[],this._addDefaultTelemetryInitializers(f),this._eventTracking=new Kt(this.diagLog(),"trackEvent"),this._eventTracking.action=function(e,t,n,r){r||(r={}),r.duration=n.toString(),o.trackEvent({name:e,properties:r})},this._pageTracking=new Kt(this.diagLog(),"trackPageView"),this._pageTracking.action=function(e,t,n,r,i){z.isNullOrUndefined(r)&&(r={}),r.duration=n.toString();var a={name:e,uri:t,properties:r,measurements:i};o.sendPageViewInternal(a,r)};var p,d=_(),h=T(),g=O(),v=this;if(!1===this.config.disableExceptionTracking&&!this.config.autoExceptionInstrumented&&d){var m=d.onerror;d.onerror=function(e,t,n,r,i){var a=m&&m(e,t,n,r,i);return!0!==a&&v._onerror({message:e,url:t,lineNumber:n,columnNumber:r,error:i}),a},this.config.autoExceptionInstrumented=!0}if(!1===this.config.disableExceptionTracking&&!0===this.config.enableUnhandledPromiseRejectionTracking&&!this.config.autoUnhandledPromiseInstrumented&&d){var y=d.onunhandledrejection;d.onunhandledrejection=function(e){var t=y&&y.call(d,e);return!0!==t&&v._onerror({message:e.reason.toString(),error:e.reason instanceof Error?e.reason:new Error(e.reason.toString()),url:g?g.href:"",lineNumber:0,columnNumber:0}),t},this.config.autoUnhandledPromiseInstrumented=!0}if(!0===this.config.enableAutoRouteTracking&&h&&z.isFunction(h.pushState)&&z.isFunction(h.replaceState)&&d&&"undefined"!==typeof Event){var b=this;z.arrForEach(i,(function(e){e.identifier===mt&&(o._properties=e)})),h.pushState=(p=h.pushState,function(){var e=p.apply(this,arguments);return Gt(d,Ae.createDomEvent(b.config.namePrefix+"pushState")),Gt(d,Ae.createDomEvent(b.config.namePrefix+"locationchange")),e}),h.replaceState=function(e){return function(){var t=e.apply(this,arguments);return Gt(d,Ae.createDomEvent(b.config.namePrefix+"replaceState")),Gt(d,Ae.createDomEvent(b.config.namePrefix+"locationchange")),t}}(h.replaceState),d.addEventListener&&(d.addEventListener(b.config.namePrefix+"popstate",(function(){Gt(d,Ae.createDomEvent(b.config.namePrefix+"locationchange"))})),d.addEventListener(b.config.namePrefix+"locationchange",(function(){b._properties&&b._properties.context&&b._properties.context.telemetryTrace&&(b._properties.context.telemetryTrace.traceID=Ae.generateW3CId(),b._properties.context.telemetryTrace.name=g&&g.pathname||"_unknown_"),o._currUri?(o._prevUri=o._currUri,o._currUri=g&&g.href||""):o._currUri=g&&g.href||"",setTimeout(function(e){b.trackPageView({refUri:e,properties:{duration:0}})}.bind(o,o._prevUri),b.autoRoutePVDelay)})))}this.setInitialized(!0)}},t.prototype.trackPageVisitTime=function(e,t,n){var r={PageName:e,PageUrl:t};this.trackMetric({name:"PageVisitTime",average:n,max:n,min:n,sampleCount:1},r)},t.prototype._addDefaultTelemetryInitializers=function(e){if(!e.isBrowserLinkTrackingEnabled()){var t=["/browserLinkSignalR/","/__browserLink/"];this._addTelemetryInitializer((function(e){if(e.baseType===ct.dataType){var n=e.baseData;if(n)for(var r=0;r<t.length;r++)if(n.target&&n.target.indexOf(t[r])>=0)return!1}return!0}))}},t.prototype._addTelemetryInitializer=function(e){this._telemetryInitializers.push(e)},t.prototype._sendCORSException=function(e){var t={message:"Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",url:e,lineNumber:0,columnNumber:0,error:void 0},n=ht.create(t,$e.dataType,$e.envelopeType,this.diagLog(),{url:e});this.core.track(n)},t.Version="2.5.6",t}(re),Kt=function(){function e(e,t){this._name=t,this._events={},this._logger=e}return e.prototype.start=function(e){"undefined"!==typeof this._events[e]&&this._logger.throwInternal(H.WARNING,K.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:this._name,key:e},!0),this._events[e]=+new Date},e.prototype.stop=function(e,t,n,r){var i=this._events[e];if(isNaN(i))this._logger.throwInternal(H.WARNING,K.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:this._name,key:e},!0);else{var a=+new Date,o=Re.GetDuration(i,a);this.action(e,t,o,n,r)}delete this._events[e],this._events[e]=void 0},e}(),Xt=function(){function e(e){this._config=e,this._buffer=[]}return e.prototype.enqueue=function(e){this._buffer.push(e)},e.prototype.count=function(){return this._buffer.length},e.prototype.clear=function(){this._buffer.length=0},e.prototype.getItems=function(){return this._buffer.slice(0)},e.prototype.batchPayloads=function(e){return e&&e.length>0?this._config.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null},e.prototype.markAsSent=function(e){this.clear()},e.prototype.clearSent=function(e){},e}(),Yt=function(){function e(t,n){this._bufferFullMessageSent=!1,this._logger=t,this._config=n;var r=this.getBuffer(e.BUFFER_KEY),i=this.getBuffer(e.SENT_BUFFER_KEY);this._buffer=r.concat(i),this._buffer.length>e.MAX_BUFFER_SIZE&&(this._buffer.length=e.MAX_BUFFER_SIZE),this.setBuffer(e.SENT_BUFFER_KEY,[]),this.setBuffer(e.BUFFER_KEY,this._buffer)}return e.prototype.enqueue=function(t){this._buffer.length>=e.MAX_BUFFER_SIZE?this._bufferFullMessageSent||(this._logger.throwInternal(H.WARNING,K.SessionStorageBufferFull,"Maximum buffer size reached: "+this._buffer.length,!0),this._bufferFullMessageSent=!0):(this._buffer.push(t),this.setBuffer(e.BUFFER_KEY,this._buffer))},e.prototype.count=function(){return this._buffer.length},e.prototype.clear=function(){this._buffer.length=0,this.setBuffer(e.BUFFER_KEY,[]),this.setBuffer(e.SENT_BUFFER_KEY,[]),this._bufferFullMessageSent=!1},e.prototype.getItems=function(){return this._buffer.slice(0)},e.prototype.batchPayloads=function(e){return e&&e.length>0?this._config.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null},e.prototype.markAsSent=function(t){this._buffer=this.removePayloadsFromBuffer(t,this._buffer),this.setBuffer(e.BUFFER_KEY,this._buffer);var n=this.getBuffer(e.SENT_BUFFER_KEY);n instanceof Array&&t instanceof Array&&((n=n.concat(t)).length>e.MAX_BUFFER_SIZE&&(this._logger.throwInternal(H.CRITICAL,K.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+n.length,!0),n.length=e.MAX_BUFFER_SIZE),this.setBuffer(e.SENT_BUFFER_KEY,n))},e.prototype.clearSent=function(t){var n=this.getBuffer(e.SENT_BUFFER_KEY);n=this.removePayloadsFromBuffer(t,n),this.setBuffer(e.SENT_BUFFER_KEY,n)},e.prototype.removePayloadsFromBuffer=function(e,t){var n=[];return z.arrForEach(t,(function(t){z.isFunction(t)||-1!==z.arrIndexOf(e,t)||n.push(t)})),n},e.prototype.getBuffer=function(e){var t=e;try{t=this._config.namePrefix&&this._config.namePrefix()?this._config.namePrefix()+"_"+t:t;var n=Ae.getSessionStorage(this._logger,t);if(n){var r=D().parse(n);if(z.isString(r)&&(r=D().parse(r)),r&&Ae.isArray(r))return r}}catch(i){this._logger.throwInternal(H.CRITICAL,K.FailedToRestoreStorageBuffer," storage key: "+t+", "+Ae.getExceptionName(i),{exception:Ae.dump(i)})}return[]},e.prototype.setBuffer=function(e,t){var n=e;try{n=this._config.namePrefix&&this._config.namePrefix()?this._config.namePrefix()+"_"+n:n;var r=JSON.stringify(t);Ae.setSessionStorage(this._logger,n,r)}catch(i){Ae.setSessionStorage(this._logger,n,JSON.stringify([])),this._logger.throwInternal(H.WARNING,K.FailedToSetStorageBuffer," storage key: "+n+", "+Ae.getExceptionName(i)+". Buffer cleared",{exception:Ae.dump(i)})}},e.BUFFER_KEY="AI_buffer",e.SENT_BUFFER_KEY="AI_sentBuffer",e.MAX_BUFFER_SIZE=2e3,e}(),Qt=function(){function e(){}return e.extractPropsAndMeasurements=function(e,t,n){if(!z.isNullOrUndefined(e))for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];z.isNumber(i)?n[r]=i:z.isString(i)?t[r]=i:C()&&(t[r]=D().stringify(i))}},e.createEnvelope=function(t,n,r,i){var a=new ze(t,i,n);r[Me]&&(a.sampleRate=r[Me]),a.iKey=r.iKey;var o=r.iKey.replace(/-/g,"");return a.name=a.name.replace("{0}",o),e.extractPartAExtensions(r,a),r.tags||(r.tags=[]),a},e.extractPartAExtensions=function(t,n){if(n.tags||(n.tags={}),t.ext||(t.ext={}),t.tags||(t.tags=[]),t.ext.user){t.ext.user.authId&&(n.tags[vt.userAuthUserId]=t.ext.user.authId);var r=t.ext.user.id||t.ext.user.localId;r&&(n.tags[vt.userId]=r)}if(t.ext.app&&t.ext.app.sesId&&(n.tags[vt.sessionId]=t.ext.app.sesId),t.ext.device&&((t.ext.device.id||t.ext.device.localId)&&(n.tags[vt.deviceId]=t.ext.device.id||t.ext.device.localId),t.ext.device.deviceClass&&(n.tags[vt.deviceType]=t.ext.device.deviceClass),t.ext.device.ip&&(n.tags[vt.deviceIp]=t.ext.device.ip)),t.ext.web){var i=t.ext.web;i.browserLang&&(n.tags[vt.deviceLanguage]=i.browserLang),i.browserVer&&(n.tags[vt.deviceBrowserVersion]=i.browserVer),i.browser&&(n.tags[vt.deviceBrowser]=i.browser),n.data=n.data||{},n.data.baseData=n.data.baseData||{},n.data.baseData.properties=n.data.baseData.properties||{},i.domain&&(n.data.baseData.properties.domain=i.domain),i.isManual&&(n.data.baseData.properties.isManual=i.isManual.toString()),i.screenRes&&(n.data.baseData.properties.screenRes=i.screenRes),i.userConsent&&(n.data.baseData.properties.userConsent=i.userConsent.toString())}t.ext.device&&t.ext.device.model&&(n.tags[vt.deviceModel]=t.ext.device.model),t.ext.os&&t.ext.os.name&&(n.tags[vt.deviceOS]=t.ext.os.name),t.ext.device&&t.ext.device.deviceType&&(n.tags[vt.deviceType]=t.ext.device.deviceType),t.ext.trace&&(t.ext.trace.parentID&&(n.tags[vt.operationParentId]=t.ext.trace.parentID),t.ext.trace.name&&(n.tags[vt.operationName]=t.ext.trace.name),t.ext.trace.traceID&&(n.tags[vt.operationId]=t.ext.trace.traceID));for(var a={},o=function(e){var n=t.tags[e];z.arrForEach(z.objKeys(n),(function(e){a[e]=n[e]})),t.tags.splice(e,1)},s=t.tags.length-1;s>=0;s--)o(s);for(var c in t.tags)a[c]=t.tags[c];n.tags=__assign({},n.tags,a),n.tags[vt.internalSdkVersion]||(n.tags[vt.internalSdkVersion]="javascript:"+e.Version)},e.Version="2.5.6",e}(),Zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Create=function(e,t){this._logger=e,z.isNullOrUndefined(t.baseData)&&this._logger.throwInternal(H.CRITICAL,K.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.");var n=t.baseData.measurements||{},r=t.baseData.properties||{};Qt.extractPropsAndMeasurements(t.data,r,n);var i=t.baseData;if(z.isNullOrUndefined(i))return e.warnToConsole("Invalid input for dependency data"),null;var a=i.id,o=i.target,s=i.name,c=i.duration,u=i.success,l=i.responseCode,f=i.type,p=i.correlationContext,d=i.properties&&i.properties[Fe]?i.properties[Fe]:"GET",h=new ct(e,a,o,s,c,u,l,d,f,p,r,n),g=new ft(ct.dataType,h);return Qt.createEnvelope(e,ct.envelopeType,t,g)},t.DependencyEnvelopeCreator=new t,t}(Qt),Jt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Create=function(e,t){this._logger=e,z.isNullOrUndefined(t.baseData)&&this._logger.throwInternal(H.CRITICAL,K.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.");var n={},r={};t.baseType!==Ke.dataType&&(n.baseTypeSource=t.baseType),t.baseType===Ke.dataType?(n=t.baseData.properties||{},r=t.baseData.measurements||{}):t.baseData&&Qt.extractPropsAndMeasurements(t.baseData,n,r),Qt.extractPropsAndMeasurements(t.data,n,r);var i=t.baseData.name,a=new Ke(e,i,n,r),o=new ft(Ke.dataType,a);return Qt.createEnvelope(e,Ke.envelopeType,t,o)},t.EventEnvelopeCreator=new t,t}(Qt),$t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Create=function(e,t){this._logger=e,z.isNullOrUndefined(t.baseData)&&this._logger.throwInternal(H.CRITICAL,K.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.");var n=t.baseData.measurements||{},r=t.baseData.properties||{};Qt.extractPropsAndMeasurements(t.data,r,n);var i=t.baseData,a=$e.CreateFromInterface(e,i,r,n),o=new ft($e.dataType,a);return Qt.createEnvelope(e,$e.envelopeType,t,o)},t.ExceptionEnvelopeCreator=new t,t}(Qt),en=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Create=function(e,t){this._logger=e,z.isNullOrUndefined(t.baseData)&&this._logger.throwInternal(H.CRITICAL,K.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.");var n=t.baseData.properties||{},r=t.baseData.measurements||{};Qt.extractPropsAndMeasurements(t.data,n,r);var i=t.baseData.name,a=t.baseData.average,o=t.baseData.sampleCount,s=t.baseData.min,c=t.baseData.max,u=new at(e,i,a,o,s,c,n,r),l=new ft(at.dataType,u);return Qt.createEnvelope(e,at.envelopeType,t,l)},t.MetricEnvelopeCreator=new t,t}(Qt),tn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Create=function(e,t){var n;this._logger=e,z.isNullOrUndefined(t.baseData)&&this._logger.throwInternal(H.CRITICAL,K.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null."),z.isNullOrUndefined(t.baseData)||z.isNullOrUndefined(t.baseData.properties)||z.isNullOrUndefined(t.baseData.properties.duration)?z.isNullOrUndefined(t.data)||z.isNullOrUndefined(t.data.duration)||(n=t.data.duration,delete t.data.duration):(n=t.baseData.properties.duration,delete t.baseData.properties.duration);var r,i=t.baseData;t.ext&&t.ext.trace&&t.ext.trace.traceID&&(r=t.ext.trace.traceID);var a=i.id||r,o=i.name,s=i.uri,c=i.properties||{},u=i.measurements||{};if(z.isNullOrUndefined(i.refUri)||(c.refUri=i.refUri),z.isNullOrUndefined(i.pageType)||(c.pageType=i.pageType),z.isNullOrUndefined(i.isLoggedIn)||(c.isLoggedIn=i.isLoggedIn.toString()),!z.isNullOrUndefined(i.properties)){var l=i.properties;for(var f in l)l.hasOwnProperty(f)&&(c[f]=l[f])}Qt.extractPropsAndMeasurements(t.data,c,u);var p=new st(e,o,s,n,c,u,a),d=new ft(st.dataType,p);return Qt.createEnvelope(e,st.envelopeType,t,d)},t.PageViewEnvelopeCreator=new t,t}(Qt),nn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Create=function(e,t){this._logger=e,z.isNullOrUndefined(t.baseData)&&this._logger.throwInternal(H.CRITICAL,K.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.");var n=t.baseData,r=n.name,i=n.uri||n.url,a=n.properties||{},o=n.measurements||{};Qt.extractPropsAndMeasurements(t.data,a,o);var s=new lt(e,r,i,void 0,a,o,n),c=new ft(lt.dataType,s);return Qt.createEnvelope(e,lt.envelopeType,t,c)},t.PageViewPerformanceEnvelopeCreator=new t,t}(Qt),rn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Create=function(e,t){this._logger=e,z.isNullOrUndefined(t.baseData)&&this._logger.throwInternal(H.CRITICAL,K.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.");var n=t.baseData.message,r=t.baseData.severityLevel,i=t.baseData.properties||{},a=t.baseData.measurements||{};Qt.extractPropsAndMeasurements(t.data,i,a);var o=new ut(e,n,r,i,a),s=new ft(ut.dataType,o);return Qt.createEnvelope(e,ut.envelopeType,t,s)},t.TraceEnvelopeCreator=new t,t}(Qt),an=function(){function e(e){this._logger=e}return e.prototype.serialize=function(e){var t=this._serializeObject(e,"root");try{return D().stringify(t)}catch(n){this._logger.throwInternal(H.CRITICAL,K.CannotSerializeObject,n&&z.isFunction(n.toString)?n.toString():"Error serializing object",null,!0)}},e.prototype._serializeObject=function(e,t){var n={};if(!e)return this._logger.throwInternal(H.CRITICAL,K.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:t},!0),n;if(e.__aiCircularRefCheck)return this._logger.throwInternal(H.WARNING,K.CircularReferenceDetected,"Circular reference detected while serializing object",{name:t},!0),n;if(!e.aiDataContract){if("measurements"===t)n=this._serializeStringMap(e,"number",t);else if("properties"===t)n=this._serializeStringMap(e,"string",t);else if("tags"===t)n=this._serializeStringMap(e,"string",t);else if(Ae.isArray(e))n=this._serializeArray(e,t);else{this._logger.throwInternal(H.WARNING,K.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:t},!0);try{D().stringify(e),n=e}catch(f){this._logger.throwInternal(H.CRITICAL,K.CannotSerializeObject,f&&z.isFunction(f.toString)?f.toString():"Error serializing object",null,!0)}}return n}for(var r in e.__aiCircularRefCheck=!0,e.aiDataContract){var i=e.aiDataContract[r],a=z.isFunction(i)?i()&me.Required:i&me.Required,o=z.isFunction(i)?i()&me.Hidden:i&me.Hidden,s=i&me.Array,c=void 0!==e[r],u=z.isObject(e[r])&&null!==e[r];if(!a||c||s){if(!o){var l=void 0;void 0!==(l=u?s?this._serializeArray(e[r],r):this._serializeObject(e[r],r):e[r])&&(n[r]=l)}}else this._logger.throwInternal(H.CRITICAL,K.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:r,name:t})}return delete e.__aiCircularRefCheck,n},e.prototype._serializeArray=function(e,t){var n;if(e)if(Ae.isArray(e)){n=[];for(var r=0;r<e.length;r++){var i=e[r],a=this._serializeObject(i,t+"["+r+"]");n.push(a)}}else this._logger.throwInternal(H.CRITICAL,K.ItemNotInArray,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:t},!0);return n},e.prototype._serializeStringMap=function(e,t,n){var r;if(e)for(var i in r={},e){var a=e[i];if("string"===t)void 0===a?r[i]="undefined":null===a?r[i]="null":a.toString?r[i]=a.toString():r[i]="invalid field: toString() is not defined.";else if("number"===t)if(void 0===a)r[i]="undefined";else if(null===a)r[i]="null";else{var o=parseFloat(a);isNaN(o)?r[i]="NaN":r[i]=o}else r[i]="invalid field: "+n+" is of unknown type.",this._logger.throwInternal(H.CRITICAL,r[i],null,!0)}return r},e}(),on=function(){function e(){this._onlineStatus=!0;var e=_(),t=I(),n=!1;try{if(e&&W.Attach(e,"online",this._setOnline.bind(this))&&(W.Attach(e,"offline",this._setOffline.bind(this)),n=!0),t){var r=t.body||t;z.isUndefined(r.ononline)||(r.ononline=this._setOnline.bind(this),r.onoffline=this._setOffline.bind(this),n=!0)}}catch(i){n=!1}this.isListening=n}return e.prototype.isOnline=function(){var e=w();return this.isListening?this._onlineStatus:!(e&&!z.isNullOrUndefined(e.onLine))||e.onLine},e.prototype.isOffline=function(){return!this.isOnline()},e.prototype._setOnline=function(){this._onlineStatus=!0},e.prototype._setOffline=function(){this._onlineStatus=!1},e.Offline=new e,e}().Offline,sn=function(){function e(){}return e.prototype.getHashCodeScore=function(t){return 100*(this.getHashCode(t)/e.INT_MAX_VALUE)},e.prototype.getHashCode=function(t){if(""===t)return 0;for(;t.length<e.MIN_INPUT_LENGTH;)t=t.concat(t);for(var n=5381,r=0;r<t.length;++r)n=(n<<5)+n+t.charCodeAt(r),n&=n;return Math.abs(n)},e.INT_MAX_VALUE=2147483647,e.MIN_INPUT_LENGTH=8,e}(),cn=function(){function e(){this.hashCodeGeneragor=new sn,this.keys=new dt}return e.prototype.getSamplingScore=function(e){return e.tags&&e.tags[this.keys.userId]?this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.userId]):e.ext&&e.ext.user&&e.ext.user.id?this.hashCodeGeneragor.getHashCodeScore(e.ext.user.id):e.tags&&e.tags[this.keys.operationId]?this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.operationId]):e.ext&&e.ext.telemetryTrace&&e.ext.telemetryTrace.traceID?this.hashCodeGeneragor.getHashCodeScore(e.ext.telemetryTrace.traceID):100*Math.random()},e}(),un=function(){function e(e,t){this.INT_MAX_VALUE=2147483647,this._logger=z.isNullOrUndefined(t)?new Y:t,(e>100||e<0)&&(this._logger.throwInternal(H.WARNING,K.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),this.sampleRate=100),this.sampleRate=e,this.samplingScoreGenerator=new cn}return e.prototype.isSampledIn=function(e){var t=this.sampleRate;return null===t||void 0===t||t>=100||(e.baseType===at.dataType||this.samplingScoreGenerator.getSamplingScore(e)<t)},e}();function ln(e){try{return e.responseText}catch(t){}return null}var fn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=1001,t.identifier=yt,t._XMLHttpRequestSupported=!1,t}return __extends(t,e),t.constructEnvelope=function(e,t,n){var r;switch((r=t===e.iKey||z.isNullOrUndefined(t)?e:__assign({},e,{iKey:t})).baseType){case Ke.dataType:return Jt.EventEnvelopeCreator.Create(n,r);case ut.dataType:return rn.TraceEnvelopeCreator.Create(n,r);case st.dataType:return tn.PageViewEnvelopeCreator.Create(n,r);case lt.dataType:return nn.PageViewPerformanceEnvelopeCreator.Create(n,r);case $e.dataType:return $t.ExceptionEnvelopeCreator.Create(n,r);case at.dataType:return en.MetricEnvelopeCreator.Create(n,r);case ct.dataType:return Zt.DependencyEnvelopeCreator.Create(n,r);default:return Jt.EventEnvelopeCreator.Create(n,r)}},t._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100}}},t._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0}},t.prototype.pause=function(){throw new Error("Method not implemented.")},t.prototype.resume=function(){throw new Error("Method not implemented.")},t.prototype.flush=function(){try{this.triggerSend(!0,null,1)}catch(e){this.diagLog().throwInternal(H.CRITICAL,K.FlushFailed,"flush failed, telemetry will not be collected: "+Ae.getExceptionName(e),{exception:Ae.dump(e)})}},t.prototype.onunloadFlush=function(){if(!1!==this._senderConfig.onunloadDisableBeacon()&&!1!==this._senderConfig.isBeaconApiDisabled()||!Ae.IsBeaconApiSupported())this.flush();else try{this.triggerSend(!0,this._beaconSender,2)}catch(e){this.diagLog().throwInternal(H.CRITICAL,K.FailedToSendQueuedTelemetry,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Ae.getExceptionName(e),{exception:Ae.dump(e)})}},t.prototype.teardown=function(){throw new Error("Method not implemented.")},t.prototype.initialize=function(n,r,i,a){e.prototype.initialize.call(this,n,r,i,a);var o=this._getTelCtx(),s=this.identifier;this._serializer=new an(r.logger),this._notificationManager=((n||{}).extensionConfig||{}).NotificationManager,this._consecutiveErrors=0,this._retryAt=null,this._lastSend=0,this._sender=null;var c=t._getDefaultAppInsightsChannelConfig();this._senderConfig=t._getEmptyAppInsightsChannelConfig();var u=function(e){l._senderConfig[e]=function(){return o.getConfig(s,e,c[e]())}},l=this;for(var f in c)u(f);(this._buffer=this._senderConfig.enableSessionStorageBuffer&&Ae.canUseSessionStorage()?new Yt(this.diagLog(),this._senderConfig):new Xt(this._senderConfig),this._sample=new un(this._senderConfig.samplingPercentage(),this.diagLog()),!this._senderConfig.isBeaconApiDisabled()&&Ae.IsBeaconApiSupported())?this._sender=this._beaconSender:z.isUndefined(XMLHttpRequest)||("withCredentials"in new XMLHttpRequest?(this._sender=this._xhrSender,this._XMLHttpRequestSupported=!0):z.isUndefined(XDomainRequest)||(this._sender=this._xdrSender))},t.prototype.processTelemetry=function(e,n){n=this._getTelCtx(n);try{if(this._senderConfig.disableTelemetry())return;if(!e)return void n.diagLog().throwInternal(H.CRITICAL,K.CannotSendEmptyTelemetry,"Cannot send empty telemetry");if(e.baseData&&!e.baseType)return void n.diagLog().throwInternal(H.CRITICAL,K.InvalidEvent,"Cannot send telemetry without baseData and baseType");if(e.baseType||(e.baseType="EventData"),!this._sender)return void n.diagLog().throwInternal(H.CRITICAL,K.SenderNotInitialized,"Sender was not initialized");if(!this._isSampledIn(e))return void n.diagLog().throwInternal(H.WARNING,K.TelemetrySampledAndNotSent,"Telemetry item was sampled out and not sent",{SampleRate:this._sample.sampleRate});e[Me]=this._sample.sampleRate;var r=t.constructEnvelope(e,this._senderConfig.instrumentationKey(),n.diagLog());if(!r)return void n.diagLog().throwInternal(H.CRITICAL,K.CreateEnvelopeError,"Unable to create an AppInsights envelope");var i=!1;if(e.tags&&e.tags[Ue]&&(z.arrForEach(e.tags[Ue],(function(e){try{e&&!1===e(r)&&(i=!0,n.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(t){n.diagLog().throwInternal(H.CRITICAL,K.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Ae.getExceptionName(t),{exception:Ae.dump(t)},!0)}})),delete e.tags[Ue]),i)return;var a=this._serializer.serialize(r),o=this._buffer.getItems(),s=this._buffer.batchPayloads(o);s&&s.length+a.length>this._senderConfig.maxBatchSizeInBytes()&&this.triggerSend(!0,null,10),this._buffer.enqueue(a),this._setupTimer()}catch(c){n.diagLog().throwInternal(H.WARNING,K.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Ae.getExceptionName(c),{exception:Ae.dump(c)})}this.processNext(e,n)},t.prototype._xhrReadyStateChange=function(e,t,n){if(4===e.readyState){var r=null;if(this._appId||(r=this._parseResponse(ln(e)||e.response))&&r.appId&&(this._appId=r.appId),(e.status<200||e.status>=300)&&0!==e.status)!this._senderConfig.isRetryDisabled()&&this._isRetriable(e.status)?(this._resendPayload(t),this.diagLog().throwInternal(H.WARNING,K.TransmissionFailed,". Response code "+e.status+". Will retry to send "+t.length+" items.")):this._onError(t,this._formatErrorMessageXhr(e));else if(on.isOffline()){if(!this._senderConfig.isRetryDisabled()){this._resendPayload(t,10),this.diagLog().throwInternal(H.WARNING,K.TransmissionFailed,". Offline - Response Code: "+e.status+". Offline status: "+on.isOffline()+". Will retry to send "+t.length+" items.")}}else 206===e.status?(r||(r=this._parseResponse(ln(e)||e.response)),r&&!this._senderConfig.isRetryDisabled()?this._onPartialSuccess(t,r):this._onError(t,this._formatErrorMessageXhr(e))):(this._consecutiveErrors=0,this._onSuccess(t,n))}},t.prototype.triggerSend=function(e,t,n){void 0===e&&(e=!0);try{if(this._senderConfig.disableTelemetry())this._buffer.clear();else{if(this._buffer.count()>0){var r=this._buffer.getItems();this._notifySendRequest(n||0,e),t?t.call(this,r,e):this._sender(r,e)}this._lastSend=+new Date}clearTimeout(this._timeoutHandle),this._timeoutHandle=null,this._retryAt=null}catch(a){var i=Ae.getIEVersion();(!i||i>9)&&this.diagLog().throwInternal(H.CRITICAL,K.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+Ae.getExceptionName(a),{exception:Ae.dump(a)})}},t.prototype._onError=function(e,t,n){this.diagLog().throwInternal(H.WARNING,K.OnError,"Failed to send telemetry.",{message:t}),this._buffer.clearSent(e)},t.prototype._onPartialSuccess=function(e,t){for(var n=[],r=[],i=0,a=t.errors.reverse();i<a.length;i++){var o=a[i],s=e.splice(o.index,1)[0];this._isRetriable(o.statusCode)?r.push(s):n.push(s)}e.length>0&&this._onSuccess(e,t.itemsAccepted),n.length>0&&this._onError(n,this._formatErrorMessageXhr(null,["partial success",t.itemsAccepted,"of",t.itemsReceived].join(" "))),r.length>0&&(this._resendPayload(r),this.diagLog().throwInternal(H.WARNING,K.TransmissionFailed,"Partial success. Delivered: "+e.length+", Failed: "+n.length+". Will retry to send "+r.length+" our of "+t.itemsReceived+" items"))},t.prototype._onSuccess=function(e,t){this._buffer.clearSent(e)},t.prototype._xdrOnLoad=function(e,t){var n=ln(e);if(!e||n+""!=="200"&&""!==n){var r=this._parseResponse(n);r&&r.itemsReceived&&r.itemsReceived>r.itemsAccepted&&!this._senderConfig.isRetryDisabled()?this._onPartialSuccess(t,r):this._onError(t,this._formatErrorMessageXdr(e))}else this._consecutiveErrors=0,this._onSuccess(t,0)},t.prototype._isSampledIn=function(e){return this._sample.isSampledIn(e)},t.prototype._beaconSender=function(e,t){var n=this._senderConfig.endpointUrl(),r=this._buffer.batchPayloads(e),i=new Blob([r],{type:"text/plain;charset=UTF-8"});w().sendBeacon(n,i)?(this._buffer.markAsSent(e),this._onSuccess(e,e.length)):(this._xhrSender(e,!0),this.diagLog().throwInternal(H.WARNING,K.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with xhrSender."))},t.prototype._xhrSender=function(e,t){var n=this,r=new XMLHttpRequest,i=this._senderConfig.endpointUrl();try{r[Le]=!0}catch(o){}r.open("POST",i,t),r.setRequestHeader("Content-type","application/json"),Ae.isInternalApplicationInsightsEndpoint(i)&&r.setRequestHeader(Oe.sdkContextHeader,Oe.sdkContextHeaderAppIdRequest),r.onreadystatechange=function(){return n._xhrReadyStateChange(r,e,e.length)},r.onerror=function(t){return n._onError(e,n._formatErrorMessageXhr(r),t)};var a=this._buffer.batchPayloads(e);r.send(a),this._buffer.markAsSent(e)},t.prototype._parseResponse=function(e){try{if(e&&""!==e){var t=D().parse(e);if(t&&t.itemsReceived&&t.itemsReceived>=t.itemsAccepted&&t.itemsReceived-t.itemsAccepted===t.errors.length)return t}}catch(n){this.diagLog().throwInternal(H.CRITICAL,K.InvalidBackendResponse,"Cannot parse the response. "+Ae.getExceptionName(n),{response:e})}return null},t.prototype._resendPayload=function(e,t){if(void 0===t&&(t=1),e&&0!==e.length){this._buffer.clearSent(e),this._consecutiveErrors++;for(var n=0,r=e;n<r.length;n++){var i=r[n];this._buffer.enqueue(i)}this._setRetryTime(t),this._setupTimer()}},t.prototype._setRetryTime=function(e){var t;if(this._consecutiveErrors<=1)t=10;else{var n=(Math.pow(2,this._consecutiveErrors)-1)/2,r=Math.floor(Math.random()*n*10)+1;r*=e,t=Math.max(Math.min(r,3600),10)}var i=Date.now()+1e3*t;this._retryAt=i},t.prototype._setupTimer=function(){var e=this;if(!this._timeoutHandle){var t=this._retryAt?Math.max(0,this._retryAt-Date.now()):0,n=Math.max(this._senderConfig.maxBatchInterval(),t);this._timeoutHandle=setTimeout((function(){e.triggerSend(!0,null,1)}),n)}},t.prototype._isRetriable=function(e){return 408===e||429===e||500===e||503===e},t.prototype._formatErrorMessageXhr=function(e,t){return e?"XMLHttpRequest,Status:"+e.status+",Response:"+ln(e)||!1:t},t.prototype._xdrSender=function(e,t){var n=this,r=_(),i=new XDomainRequest;i.onload=function(){return n._xdrOnLoad(i,e)},i.onerror=function(t){return n._onError(e,n._formatErrorMessageXdr(i),t)};var a=r&&r.location&&r.location.protocol||"";if(0!==this._senderConfig.endpointUrl().lastIndexOf(a,0))return this.diagLog().throwInternal(H.WARNING,K.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),void this._buffer.clear();var o=this._senderConfig.endpointUrl().replace(/^(https?:)/,"");i.open("POST",o);var s=this._buffer.batchPayloads(e);i.send(s),this._buffer.markAsSent(e)},t.prototype._formatErrorMessageXdr=function(e,t){return e?"XDomainRequest,Response:"+ln(e)||!1:t},t.prototype._notifySendRequest=function(e,t){var n=this._notificationManager;if(n&&n.eventsSendRequest)try{n.eventsSendRequest(e,t)}catch(r){this.diagLog().throwInternal(H.CRITICAL,K.NotificationException,"send request notification failed: "+Ae.getExceptionName(r),{exception:Ae.dump(r)})}},t}(re),pn=function(){},dn=function(){function e(t,n){var r=this;z.isNullOrUndefined(n)?this._logger=new Y:this._logger=n,t||(t={}),"function"!==typeof t.sessionExpirationMs&&(t.sessionExpirationMs=function(){return e.acquisitionSpan}),"function"!==typeof t.sessionRenewalMs&&(t.sessionRenewalMs=function(){return e.renewalSpan}),this.config=t,this._storageNamePrefix=function(){return r.config.namePrefix&&r.config.namePrefix()?e.cookieNameConst+r.config.namePrefix():e.cookieNameConst},this.automaticSession=new pn}return e.prototype.update=function(){this.automaticSession.id||this.initializeAutomaticSession();var t=Re.Now(),n=0!==this.config.sessionExpirationMs()&&t-this.automaticSession.acquisitionDate>this.config.sessionExpirationMs(),r=0!==this.config.sessionExpirationMs()&&t-this.automaticSession.renewalDate>this.config.sessionRenewalMs();n||r?this.renew():(!this.cookieUpdatedTimestamp||t-this.cookieUpdatedTimestamp>e.cookieUpdateInterval)&&(this.automaticSession.renewalDate=t,this.setCookie(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate))},e.prototype.backup=function(){this.setStorage(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate)},e.prototype.initializeAutomaticSession=function(){var e=Ae.getCookie(this._logger,this._storageNamePrefix());if(e&&"function"===typeof e.split)this.initializeAutomaticSessionWithData(e);else{var t=Ae.getStorage(this._logger,this._storageNamePrefix());t&&this.initializeAutomaticSessionWithData(t)}this.automaticSession.id||this.renew()},e.prototype.initializeAutomaticSessionWithData=function(e){var t=e.split("|");t.length>0&&(this.automaticSession.id=t[0]);try{if(t.length>1){var n=+t[1];this.automaticSession.acquisitionDate=+new Date(n),this.automaticSession.acquisitionDate=this.automaticSession.acquisitionDate>0?this.automaticSession.acquisitionDate:0}if(t.length>2){var r=+t[2];this.automaticSession.renewalDate=+new Date(r),this.automaticSession.renewalDate=this.automaticSession.renewalDate>0?this.automaticSession.renewalDate:0}}catch(i){this._logger.throwInternal(H.CRITICAL,K.ErrorParsingAISessionCookie,"Error parsing ai_session cookie, session will be reset: "+Ae.getExceptionName(i),{exception:Ae.dump(i)})}0===this.automaticSession.renewalDate&&this._logger.throwInternal(H.WARNING,K.SessionRenewalDateIsZero,"AI session renewal date is 0, session will be reset.")},e.prototype.renew=function(){var e=Re.Now();this.automaticSession.id=Ae.newId(),this.automaticSession.acquisitionDate=e,this.automaticSession.renewalDate=e,this.setCookie(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate),Ae.canUseLocalStorage()||this._logger.throwInternal(H.WARNING,K.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")},e.prototype.setCookie=function(e,t,n){var r=t+this.config.sessionExpirationMs(),i=n+this.config.sessionRenewalMs(),a=new Date,o=[e,t,n];r<i?a.setTime(r):a.setTime(i);var s=this.config.cookieDomain?this.config.cookieDomain():null,c=0===this.config.sessionExpirationMs()?"0":a.toUTCString();Ae.setCookie(this._logger,this._storageNamePrefix(),o.join("|")+";expires="+c,s),this.cookieUpdatedTimestamp=Re.Now()},e.prototype.setStorage=function(e,t,n){Ae.setStorage(this._logger,this._storageNamePrefix(),[e,t,n].join("|"))},e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e.cookieNameConst="ai_session",e}(),hn=function(){},gn=function(){this.id="browser",this.deviceClass="Browser"},vn="2.5.6",mn=function(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:"+vn},yn=function(){function e(t,n){this.isNewUser=!1,this._logger=n;var r=Ae.getCookie(this._logger,e.userCookieName);if(r){this.isNewUser=!1;var i=r.split(e.cookieSeparator);i.length>0&&(this.id=i[0])}if(this.config=t,!this.id){this.id=Ae.newId();var a=new Date,o=z.toISOString(a);this.accountAcquisitionDate=o,this.isNewUser=!0,a.setTime(a.getTime()+31536e6);var s=[this.id,o],c=this.config.cookieDomain?this.config.cookieDomain():void 0;Ae.setCookie(this._logger,e.userCookieName,s.join(e.cookieSeparator)+";expires="+a.toUTCString(),c);var u=t.namePrefix&&t.namePrefix()?t.namePrefix()+"ai_session":"ai_session";Ae.removeStorage(this._logger,u)}this.accountId=t.accountId?t.accountId():void 0;var l=Ae.getCookie(this._logger,e.authUserCookieName);if(l){var f=(l=decodeURI(l)).split(e.cookieSeparator);f[0]&&(this.authenticatedId=f[0]),f.length>1&&f[1]&&(this.accountId=f[1])}}return e.prototype.setAuthenticatedUserContext=function(t,n,r){if(void 0===r&&(r=!1),!this.validateUserInput(t)||n&&!this.validateUserInput(n))this._logger.throwInternal(H.WARNING,K.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);else{this.authenticatedId=t;var i=this.authenticatedId;n&&(this.accountId=n,i=[this.authenticatedId,this.accountId].join(e.cookieSeparator)),r&&Ae.setCookie(this._logger,e.authUserCookieName,encodeURI(i),this.config.cookieDomain())}},e.prototype.clearAuthenticatedUserContext=function(){this.authenticatedId=null,this.accountId=null,Ae.deleteCookie(this._logger,e.authUserCookieName)},e.prototype.validateUserInput=function(e){return!("string"!==typeof e||!e||e.match(/,|;|=| |\|/))},e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}(),bn=function(){},xn=function(e,t,n,r){this.traceID=e||Ae.generateW3CId(),this.parentID=t,this.name=n;var i=O();!n&&i&&i.pathname&&(this.name=i.pathname),this.name=Ee.sanitizeString(r,this.name)},_n=function(){function e(e,t){x()&&(this.sessionManager=new dn(t,e),this.application=new hn,this.device=new gn,this.internal=new mn(t),this.location=new bn,this.user=new yn(t,e),this.telemetryTrace=new xn(void 0,void 0,void 0,e),this.session=new pn),this.appId=function(){return null}}return e.prototype.applySessionContext=function(e,t){var n=this.session,r=this.sessionManager,i=n||r&&r.automaticSession;i&&z.isString(i.id)&&(e.ext.app.sesId=i.id),n&&(z.isString(n.id)?e.ext.app.sesId=n.id:e.ext.app.sesId=r.automaticSession.id)},e.prototype.applyOperatingSystemContxt=function(e,t){var n=this.os;n&&n.name&&(e.ext.os=n)},e.prototype.applyApplicationContext=function(e,t){var n=this.application;n&&(z.isString(n.ver)&&(e.tags[vt.applicationVersion]=n.ver),z.isString(n.build)&&(e.tags[vt.applicationBuild]=n.build))},e.prototype.applyDeviceContext=function(e,t){var n=this.device;n&&(z.isString(n.id)&&(e.ext.device.localId=n.id),z.isString(n.ip)&&(e.ext.device.ip=n.ip),z.isString(n.model)&&(e.ext.device.model=n.model),z.isString(n.deviceClass)&&(e.ext.device.deviceClass=n.deviceClass))},e.prototype.applyInternalContext=function(e,t){var n=this.internal;n&&(z.isString(n.agentVersion)&&(e.tags[vt.internalAgentVersion]=n.agentVersion),z.isString(n.sdkVersion)&&(e.tags[vt.internalSdkVersion]=n.sdkVersion),e.baseType!==X.dataType&&e.baseType!==st.dataType||(z.isString(n.snippetVer)&&(e.tags[vt.internalSnippet]=n.snippetVer),z.isString(n.sdkSrc)&&(e.tags[vt.internalSdkSrc]=n.sdkSrc)))},e.prototype.applyLocationContext=function(e,t){var n=this.location;n&&z.isString(n.ip)&&(e.tags[vt.locationIp]=n.ip)},e.prototype.applyOperationContext=function(e,t){var n=this.telemetryTrace;if(n){var r=e.ext.trace||{traceID:void 0,parentID:void 0};z.isString(n.traceID)&&(r.traceID=n.traceID),z.isString(n.name)&&(r.name=n.name),z.isString(n.parentID)&&(r.parentID=n.parentID),e.ext.trace=r}},e.prototype.applyWebContext=function(e,t){var n=this.web;n&&(e.ext.web=e.ext.web||{},e.ext.web=n)},e.prototype.applyUserContext=function(e,t){var n=this.user;n&&(e.tags||(e.tags=[]),z.isString(n.accountId)&&(e.tags[vt.userAccountId]=n.accountId),z.isString(n.id)&&(e.ext.user.id=n.id),z.isString(n.authenticatedId)&&(e.ext.user.authId=n.authenticatedId))},e.prototype.cleanUp=function(e,t){e.ext[gt.DeviceExt]&&0===z.objKeys(e.ext[gt.DeviceExt]).length&&delete e.ext[gt.DeviceExt],e.ext[gt.UserExt]&&0===z.objKeys(e.ext[gt.UserExt]).length&&delete e.ext[gt.UserExt],e.ext[gt.WebExt]&&0===z.objKeys(e.ext[gt.WebExt]).length&&delete e.ext[gt.WebExt],e.ext[gt.OSExt]&&0===z.objKeys(e.ext[gt.OSExt]).length&&delete e.ext[gt.OSExt],e.ext[gt.AppExt]&&0===z.objKeys(e.ext[gt.AppExt]).length&&delete e.ext[gt.AppExt],e.ext[gt.TraceExt]&&0===z.objKeys(e.ext[gt.TraceExt]).length&&delete e.ext[gt.TraceExt]},e}(),Sn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=110,t.identifier=mt,t}return __extends(t,e),t.getDefaultConfig=function(){return{instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){}}},t.prototype.initialize=function(n,r,i,a){var o=this;e.prototype.initialize.call(this,n,r,i,a);var s=this._getTelCtx(),c=this.identifier,u=t.getDefaultConfig();this._extensionConfig=this._extensionConfig||t.getDefaultConfig();var l=function(e){f._extensionConfig[e]=function(){return s.getConfig(c,e,u[e]())}},f=this;for(var p in u)l(p);this.context=new _n(r.logger,this._extensionConfig),this._breezeChannel=Ae.getExtension(i,yt),this.context.appId=function(){return o._breezeChannel?o._breezeChannel._appId:null}},t.prototype.processTelemetry=function(e,t){if(z.isNullOrUndefined(e));else{if(t=this._getTelCtx(t),e.name===st.envelopeType&&t.diagLog().resetInternalMessageCount(),this.context.session&&"string"!==typeof this.context.session.id&&this.context.sessionManager.update(),this._processTelemetryInternal(e,t),this.context&&this.context.user&&this.context.user.isNewUser){this.context.user.isNewUser=!1;var n=new X(K.SendBrowserInfoOnUserInit,(w()||{}).userAgent||"");t.diagLog().logInternalMessage(H.CRITICAL,n)}this.processNext(e,t)}},t.prototype._processTelemetryInternal=function(e,t){e.tags||(e.tags=[]),e.ext||(e.ext={});var n=e.ext;n[gt.DeviceExt]=n[gt.DeviceExt]||{},n[gt.WebExt]=n[gt.WebExt]||{},n[gt.UserExt]=n[gt.UserExt]||{},n[gt.OSExt]=n[gt.OSExt]||{},n[gt.AppExt]=n[gt.AppExt]||{},n[gt.TraceExt]=n[gt.TraceExt]||{};var r=this.context;r.applySessionContext(e,t),r.applyApplicationContext(e,t),r.applyDeviceContext(e,t),r.applyOperationContext(e,t),r.applyUserContext(e,t),r.applyOperatingSystemContxt(e,t),r.applyWebContext(e,t),r.applyLocationContext(e,t),r.applyInternalContext(e,t),r.cleanUp(e,t)},t}(re),In="_aiHooks",wn=["req","rsp","hkErr","fnErr"];function Tn(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}function On(e,t,n,r,i){i>=0&&i<=2&&Tn(e,(function(e,a){var o=e.cbks,s=o[wn[i]];if(s){t.ctx=function(){return r[a]=r[a]||{}};try{s.apply(t.inst,n)}catch(l){var c=t.err;try{var u=o[wn[2]];u&&(t.err=l,u.apply(t.inst,n))}catch(f){}finally{t.err=c}}}}))}function En(e,t,n,r){if(void 0===r&&(r=!0),e&&t&&n){var i=function e(t,n,r){var i=null;return t&&(z.hasOwnProperty(t,n)?i=t:r&&(i=e(t[s],n,!1))),i}(e,t,r),a=i[t];if(typeof a===c){var o=a[In];if(!o){var u=(f=o={i:0,n:t,f:a,h:[]},function(){var e=this,t=arguments,n=f.h,r={name:f.n,inst:e,ctx:null,set:s},i=[],a=o([r],t);function o(e,t){return Tn(t,(function(t){e.push(t)})),e}function s(e,n){(t=o([],t))[e]=n,a=o([r],t)}On(n,r,a,i,0);var c=f.f;try{r.rslt=c.apply(e,t)}catch(u){throw r.err=u,On(n,r,a,i,3),u}return On(n,r,a,i,1),r.rslt});u[In]=o,i[t]=u}var l={id:o.i,cbks:n,rm:function(){var e=this.id;Tn(o.h,(function(t,n){if(t.id===e)return o.h.splice(n,1),1}))}};return o.i++,o.h.push(l),l}}var f;return null}var Cn="properties",Dn=z.objKeys,Pn=z.arrForEach;function An(e,t,n){var r=0,i=e[t],a=e[n];return i&&a&&(r=Re.GetDuration(i,a)),r}function kn(e,t,n,r,i){var a=0,o=An(n,r,i);return o&&(a=Nn(e,t,Ae.msToTimeSpan(o))),a}function Nn(e,t,n){var r=0;e&&t&&n&&((e.ajaxPerf=e.ajaxPerf||{})[t]=n,r=1);return r}var jn=function(){this.openDone=!1,this.setRequestHeaderDone=!1,this.sendDone=!1,this.abortDone=!1,this.stateChangeAttached=!1},Rn=function e(t,n,r){var i=r;this.perfMark=null,this.completed=!1,this.requestHeadersSize=null,this.requestHeaders=null,this.responseReceivingDuration=null,this.callbackDuration=null,this.ajaxTotalDuration=null,this.aborted=0,this.pageUrl=null,this.requestUrl=null,this.requestSize=0,this.method=null,this.status=null,this.requestSentTime=null,this.responseStartedTime=null,this.responseFinishedTime=null,this.callbackFinishedTime=null,this.endTime=null,this.xhrMonitoringState=new jn,this.clientFailure=0,this.traceID=t,this.spanID=n,qt(e,this,(function(e){e.getAbsoluteUrl=function(){return e.requestUrl?ke.getAbsoluteUrl(e.requestUrl):null},e.getPathName=function(){return e.requestUrl?Ee.sanitizeUrl(i,ke.getCompleteUrl(e.method,e.requestUrl)):null},e.CreateTrackItem=function(t,n,r){if(e.ajaxTotalDuration=Math.round(1e3*Re.GetDuration(e.requestSentTime,e.responseFinishedTime))/1e3,e.ajaxTotalDuration<0)return null;var i,a=((i={id:"|"+e.traceID+"."+e.spanID,target:e.getAbsoluteUrl(),name:e.getPathName(),type:t,duration:e.ajaxTotalDuration,success:+e.status>=200&&+e.status<400,responseCode:+e.status,method:e.method})[Cn]={HttpMethod:e.method},i);if(function(e,t){var n=e.perfTiming,r=t[Cn]||{},i=0,a=z.isString,o="redirect",s=o+"Start",c=o="End";if(n){i|=kn(r,o,n,s,c),i|=kn(r,"domainLookup",n,"domainLookupStart","domainLookupEnd"),i|=kn(r,"connect",n,"connectStart","connectEnd"),i|=kn(r,"request",n,"requestStart","requestEnd"),i|=kn(r,"response",n,"responseStart","responseEnd"),i|=kn(r,"networkConnect",n,"startTime","connectEnd"),i|=kn(r,"sentRequest",n,"requestStart","responseEnd");var u=n.duration;u||(u=An(n,"startTime","responseEnd")||0),i|=Nn(r,"duration",u),i|=Nn(r,"perfTotal",u);var l=n.serverTiming;if(l){var f={};Pn(l,(function(e,t){var n=function(e){var t=e,n=/([^\w\d_$])/g;return n.test(e)&&(t=e.replace(n,"_")),t}(e.name||""+t),r=f[n]||{};Pn(Dn(e),(function(t){var n=e[t];("name"!==t&&a(n)||z.isNumber(n))&&(r[t]&&(n=r[t]+";"+n),!n&&a(n)||(r[t]=n))})),f[n]=r})),i|=Nn(r,"serverTiming",f)}i|=Nn(r,"transferSize",n.transferSize),i|=Nn(r,"encodedBodySize",n.encodedBodySize),i|=Nn(r,"decodedBodySize",n.decodedBodySize)}else e.perfMark&&(i|=Nn(r,"missing",e.perfAttempts));i&&(t[Cn]=r)}(e,a),n&&Dn(e.requestHeaders).length>0&&(a[Cn]=a[Cn]||{},a[Cn].requestHeaders=e.requestHeaders),r){var o=r();if(o){var s=o.correlationContext;if(s&&(a.correlationContext=s),o.headerMap&&Dn(o.headerMap).length>0&&(a[Cn]=a[Cn]||{},a[Cn].responseHeaders=o.headerMap),e.status>=400){var c=o.type;a[Cn]=a[Cn]||{},""!==c&&"text"!==c||(a[Cn].responseText=o.responseText?o.statusText+" - "+o.responseText:o.statusText),"json"===c&&(a[Cn].responseText=o.response?o.statusText+" - "+JSON.stringify(o.response):o.statusText)}}}return a}}))},Ln=function(){function e(t,n){this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&e.isValidTraceId(t)?this.traceId=t:this.traceId=Ae.generateW3CId(),n&&e.isValidSpanId(n)?this.spanId=n:this.spanId=Ae.generateW3CId().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}(),Mn="ai.ajxmn.",Un="diagLog",Fn="ajaxData",qn="throwInternal",Bn="fetch",Vn=z.isNullOrUndefined,Hn=z.arrForEach,zn=z.objKeys,Gn=0;function Wn(e){var t="";try{Vn(e)||Vn(e[Fn])||Vn(e[Fn].requestUrl)||(t+="(url: '"+e[Fn].requestUrl+"')")}catch(n){}return t}function Kn(e,t,n,r,i){e[Un]()[qn](H.CRITICAL,t,n,r,i)}function Xn(e,t,n,r,i){e[Un]()[qn](H.WARNING,t,n,r,i)}function Yn(e,t,n){return function(r){Kn(e,t,n,{ajaxDiagnosticsMessage:Wn(r.inst),exception:Ae.dump(r.err)})}}function Qn(e,t){return e&&t?e.indexOf(t):-1}var Zn,Jn=function(e){function t(){var n=e.call(this)||this;n.identifier=t.identifier,n.priority=120;var r,i,o,c,u="trackDependencyDataInternal",l=O(),f=!1,p=!1,d=l&&l.host&&l.host.toLowerCase(),h=t.getEmptyConfig(),g=!1,v=0,m=!1,b=0,x=!1,_=[],S={};return qt(t,n,(function(e,n){function l(e,t,n){_.push(function(e,t,n){return e?En(e[s],t,n,!1):null}(e,t,n))}function I(e,t,n){var r=!1,i=((z.isString(t)?t:(t||{}).url||"")||"").toLowerCase(),a=Qn(i,"?"),o=Qn(i,"#");return(-1===a||-1!==o&&o<a)&&(a=o),-1!==a&&(i=i.substring(0,a)),Vn(e)?Vn(t)||(r="object"===typeof t&&!0===t[Le]||!!n&&!0===n[Le]):r=!0===e[Le]||!0===i[Le],r?S[i]||(S[i]=1):S[i]&&(r=!0),r}function w(e,t){var n=!0,r=p;return Vn(e)||(n=!0===t||!Vn(e[Fn])),r&&n}function T(e){try{var t=e.responseType;if(""===t||"text"===t)return e.responseText}catch(n){}return null}function O(t){try{var n=t.getAllResponseHeaders();if(null!==n)if(-1!==Qn(n.toLowerCase(),Oe.requestContextHeaderLowerCase)){var r=t.getResponseHeader(Oe.requestContextHeader);return Ne.getCorrelationContext(r)}}catch(i){Xn(e,K.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:Wn(t),exception:Ae.dump(i)})}}function C(e,t){if(t.requestUrl&&c&&m){var n=E();if(n&&z.isFunction(n.mark)){Gn++;var r=c+e+"#"+Gn;n.mark(r);var i=n.getEntriesByName(r);i&&1===i.length&&(t.perfMark=i[0])}}}function D(e,t,n,r){var i=t.perfMark,a=E(),o=h.maxAjaxPerfLookupAttempts,s=h.ajaxPerfLookupDelay,c=t.requestUrl,u=0;!function l(){try{if(a&&i){u++;for(var f=null,p=a.getEntries(),d=p.length-1;d>=0;d--){var h=p[d];if(h){if("resource"===h.entryType)h.initiatorType!==e||-1===Qn(h.name,c)&&-1===Qn(c,h.name)||(f=h);else if("mark"===h.entryType&&h.name===i.name){t.perfTiming=f;break}if(h.startTime<i.startTime-1e3)break}}}!i||t.perfTiming||u>=o||!1===t.async?(i&&z.isFunction(a.clearMarks)&&a.clearMarks(i.name),t.perfAttempts=u,n()):setTimeout(l,s)}catch(g){r(g)}}()}function P(t){var n="";try{Vn(t)||(n+="string"===typeof t?"(url: '"+t+"')":"(url: '"+t.url+"')")}catch(r){Kn(e,K.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:Ae.dump(r)})}return n}function A(t,n,r,i,a,o){function s(t,n,i){var a=i||{};a.fetchDiagnosticsMessage=P(r),n&&(a.exception=Ae.dump(n)),Xn(e,t,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",a)}i&&(i.responseFinishedTime=Re.Now(),i.status=n,D("fetch",i,(function(){var t=i.CreateTrackItem("Fetch",g,a);t?e[u](t):s(K.FailedMonitorAjaxDur,null,{requestSentTime:i.requestSentTime,responseFinishedTime:i.responseFinishedTime})}),(function(e){s(K.FailedMonitorAjaxGetCorrelationHeader,e,null)})))}function k(t){if(t&&t.headers)try{var n=t.headers.get(Oe.requestContextHeader);return Ne.getCorrelationContext(n)}catch(r){Xn(e,K.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:P(t),exception:Ae.dump(r)})}}e.initialize=function(d,v,S,E){if(!e.isInitialized()){n.initialize(d,v,S,E);var P=e._getTelCtx(),N=t.getDefaultConfig();Hn(zn(N),(function(e){h[e]=P.getConfig(t.identifier,e,N[e])}));var j=h.distributedTracingMode;if(g=h.enableRequestHeaderTracking,m=h.enableAjaxPerfTracking,b=h.maxAjaxCallsPerView,x=h.enableResponseHeaderTracking,o=j===ye.AI||j===ye.AI_AND_W3C,i=j===ye.AI_AND_W3C||j===ye.W3C,m){var R=d.instrumentationKey||"unkwn";c=R.length>5?Mn+R.substring(R.length-5)+".":Mn+R+"."}if(!1===h.disableAjaxTracking&&function(e){var t=!1;if(typeof XMLHttpRequest!==a&&!Vn(XMLHttpRequest)){var n=XMLHttpRequest[s];t=!Vn(n)&&!Vn(n.open)&&!Vn(n.send)&&!Vn(n.abort)}var r=Ae.getIEVersion();if(r&&r<9&&(t=!1),t)try{(new XMLHttpRequest)[Fn]={};var i=XMLHttpRequest[s].open;XMLHttpRequest[s].open=i}catch(o){t=!1,Kn(e,K.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:Ae.dump(o)})}return t}(e)&&!p&&(l(XMLHttpRequest,"open",{req:function(t,n,i,a){var o=t.inst,s=o[Fn];I(o,i)||!w(o,!0)||s&&s.xhrMonitoringState.openDone||function(t,n,i,a){var o=r&&r.telemetryTrace&&r.telemetryTrace.traceID||Ae.generateW3CId(),s=Ae.generateW3CId().substr(0,16),c=new Rn(o,s,e[Un]());c.method=n,c.requestUrl=i,c.xhrMonitoringState.openDone=!0,c.requestHeaders={},c.async=a,t[Fn]=c,function(t){t[Fn].xhrMonitoringState.stateChangeAttached=W.Attach(t,"readystatechange",(function(){try{t&&4===t.readyState&&w(t)&&function(t){var n=t[Fn];function r(n,r){var i=r||{};i.ajaxDiagnosticsMessage=Wn(t),n&&(i.exception=Ae.dump(n)),Xn(e,K.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",i)}n.responseFinishedTime=Re.Now(),n.status=t.status,D("xmlhttprequest",n,(function(){try{var i=n.CreateTrackItem("Ajax",g,(function(){var e={statusText:t.statusText,headerMap:null,correlationContext:O(t),type:t.responseType,responseText:T(t),response:t.response};if(x){var n=t.getAllResponseHeaders();if(n){var r=z.strTrim(n).split(/[\r\n]+/),i={};Hn(r,(function(e){var t=e.split(": "),n=t.shift(),r=t.join(": ");i[n]=r})),e.headerMap=i}}return e}));i?e[u](i):r(null,{requestSentTime:n.requestSentTime,responseFinishedTime:n.responseFinishedTime})}finally{try{t[Fn]=null}catch(a){}}}),(function(e){r(e,null)}))}(t)}catch(r){var n=Ae.dump(r);n&&-1!==Qn(n.toLowerCase(),"c00c023f")||Kn(e,K.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:Wn(t),exception:n})}}))}(t)}(o,n,i,a)},hkErr:Yn(e,K.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),l(XMLHttpRequest,"send",{req:function(t,n){var r=t.inst,i=r[Fn];w(r)&&!i.xhrMonitoringState.sendDone&&(C("xhr",i),i.requestSentTime=Re.Now(),r=e.includeCorrelationHeaders(i,void 0,void 0,r),i.xhrMonitoringState.sendDone=!0)},hkErr:Yn(e,K.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),l(XMLHttpRequest,"abort",{req:function(e){var t=e.inst,n=t[Fn];w(t)&&!n.xhrMonitoringState.abortDone&&(n.aborted=1,n.xhrMonitoringState.abortDone=!0)},hkErr:Yn(e,K.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),g&&l(XMLHttpRequest,"setRequestHeader",{req:function(e,t,n){var r=e.inst;w(r)&&(r[Fn].requestHeaders[t]=n)},hkErr:Yn(e,K.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),p=!0),function(){var t=function(){var e=y();return!e||Vn(e.Request)||Vn(e.Request[s])||Vn(e[Bn])?null:e[Bn]}();if(!t)return;var n=y(),i=t.polyfill;!1===h.disableFetchTracking?(_.push(En(n,Bn,{req:function(t,n,a){var o;if(f&&!I(null,n,a)&&(!i||!p)){var s=t.ctx();o=function(t,n){var i=r&&r.telemetryTrace&&r.telemetryTrace.traceID||Ae.generateW3CId(),a=Ae.generateW3CId().substr(0,16),o=new Rn(i,a,e[Un]());o.requestSentTime=Re.Now(),t instanceof Request?o.requestUrl=t?t.url:"":o.requestUrl=t;var s="GET";n&&n.method?s=n.method:t&&t instanceof Request&&(s=t.method);o.method=s;var c={};if(g){new Headers((n?n.headers:0)||t instanceof Request&&t.headers||{}).forEach((function(e,t){c[t]=e}))}return o.requestHeaders=c,C("fetch",o),o}(n,a);var c=e.includeCorrelationHeaders(o,n,a);c!==a&&t.set(1,c),s.data=o}},rsp:function(e,t){var n=e.ctx().data;n&&(e.rslt=e.rslt.then((function(t){return A(e,(t||{}).status,t,n,(function(){var e={statusText:t.statusText,headerMap:null,correlationContext:k(t)};if(x){var n={};t.headers.forEach((function(e,t){n[t]=e})),e.headerMap=n}return e})),t})).catch((function(r){throw A(e,0,t,n,null,{error:r.message}),r})))},hkErr:Yn(e,K.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),f=!0):i&&_.push(En(n,Bn,{req:function(e,t,n){I(null,t,n)}}));i&&(n[Bn].polyfill=i)}(),S.length>0&&S){for(var L=void 0,M=0;!L&&M<S.length;)S[M]&&S[M].identifier===mt&&(L=S[M]),M++;L&&(r=L.context)}}},e.teardown=function(){Hn(_,(function(e){e.rm()})),_=[],f=!1,p=!1,e.setInitialized(!1)},e.trackDependencyData=function(t,n){e[u](t,n)},e.includeCorrelationHeaders=function(t,n,a,s){var c=e._currentWindowHost||d;if(n){if(Ne.canIncludeCorrelationHeader(h,t.getAbsoluteUrl(),c)){if(a||(a={}),a.headers=new Headers(a.headers||n instanceof Request&&n.headers||{}),o){var u="|"+t.traceID+"."+t.spanID;a.headers.set(Oe.requestIdHeader,u),g&&(t.requestHeaders[Oe.requestIdHeader]=u)}if((f=h.appId||r&&r.appId())&&(a.headers.set(Oe.requestContextHeader,Oe.requestContextAppIdFormat+f),g&&(t.requestHeaders[Oe.requestContextHeader]=Oe.requestContextAppIdFormat+f)),i){var l=new Ln(t.traceID,t.spanID);a.headers.set(Oe.traceParentHeader,l.toString()),g&&(t.requestHeaders[Oe.traceParentHeader]=l.toString())}}return a}if(s){if(Ne.canIncludeCorrelationHeader(h,t.getAbsoluteUrl(),c)){if(o){u="|"+t.traceID+"."+t.spanID;s.setRequestHeader(Oe.requestIdHeader,u),g&&(t.requestHeaders[Oe.requestIdHeader]=u)}var f;if((f=h.appId||r&&r.appId())&&(s.setRequestHeader(Oe.requestContextHeader,Oe.requestContextAppIdFormat+f),g&&(t.requestHeaders[Oe.requestContextHeader]=Oe.requestContextAppIdFormat+f)),i){l=new Ln(t.traceID,t.spanID);s.setRequestHeader(Oe.traceParentHeader,l.toString()),g&&(t.requestHeaders[Oe.traceParentHeader]=l.toString())}}return s}},e[u]=function(t,n,r){if(-1===b||v<b){h.distributedTracingMode!==ye.W3C&&h.distributedTracingMode!==ye.AI_AND_W3C||"string"!==typeof t.id||"."===t.id[t.id.length-1]||(t.id+=".");var i=ht.create(t,ct.dataType,ct.envelopeType,e[Un](),n,r);e.core.track(i)}else v===b&&Kn(e,K.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++v}})),n}return __extends(t,e),t.getDefaultConfig=function(){return{maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,disableCorrelationHeaders:!1,distributedTracingMode:ye.AI,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25}},t.getEmptyConfig=function(){var e=this.getDefaultConfig();return Hn(zn(e),(function(t){e[t]=void 0})),e},t.prototype.processTelemetry=function(e,t){this.processNext(e,t)},t.identifier="AjaxDependencyPlugin",t}(re),$n=r,er=function(){function e(e){this._snippetVersion=""+(e.sv||e.version||""),e.queue=e.queue||[],e.version=e.version||2;var t=e.config||{};if(t.connectionString){var n=Be.parse(t.connectionString),r=n.ingestionendpoint;t.endpointUrl=r?r+"/v2/track":t.endpointUrl,t.instrumentationKey=n.instrumentationkey||t.instrumentationKey}this.appInsights=new Wt,this.properties=new Sn,this.dependencies=new Jn,this.core=new Te,this.snippet=e,this.config=t,this.getSKUDefaults()}return e.prototype.trackEvent=function(e,t){this.appInsights.trackEvent(e,t)},e.prototype.trackPageView=function(e){var t=e||{};this.appInsights.trackPageView(t)},e.prototype.trackPageViewPerformance=function(e){var t=e||{};this.appInsights.trackPageViewPerformance(t)},e.prototype.trackException=function(e){!e.exception&&e.error&&(e.exception=e.error),this.appInsights.trackException(e)},e.prototype._onerror=function(e){this.appInsights._onerror(e)},e.prototype.trackTrace=function(e,t){this.appInsights.trackTrace(e,t)},e.prototype.trackMetric=function(e,t){this.appInsights.trackMetric(e,t)},e.prototype.startTrackPage=function(e){this.appInsights.startTrackPage(e)},e.prototype.stopTrackPage=function(e,t,n,r){this.appInsights.stopTrackPage(e,t,n,r)},e.prototype.startTrackEvent=function(e){this.appInsights.startTrackEvent(e)},e.prototype.stopTrackEvent=function(e,t,n){this.appInsights.stopTrackEvent(e,t,n)},e.prototype.addTelemetryInitializer=function(e){return this.appInsights.addTelemetryInitializer(e)},e.prototype.setAuthenticatedUserContext=function(e,t,n){void 0===n&&(n=!1),this.properties.context.user.setAuthenticatedUserContext(e,t,n)},e.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},e.prototype.trackDependencyData=function(e){this.dependencies.trackDependencyData(e)},e.prototype.flush=function(e){void 0===e&&(e=!0),z.arrForEach(this.core.getTransmissionControls(),(function(t){z.arrForEach(t,(function(t){t.flush(e)}))}))},e.prototype.onunloadFlush=function(e){void 0===e&&(e=!0),z.arrForEach(this.core.getTransmissionControls(),(function(t){z.arrForEach(t,(function(t){t.onunloadFlush?t.onunloadFlush():t.flush(e)}))}))},e.prototype.loadAppInsights=function(e){void 0===e&&(e=!1);var t=this;if(e&&t.config.extensions&&t.config.extensions.length>0)throw new Error("Extensions not allowed in legacy mode");var n=[],r=new fn;return n.push(r),n.push(t.properties),n.push(t.dependencies),n.push(t.appInsights),t.core.initialize(t.config,n),t.context=t.properties.context,Zn&&(t.context.internal.sdkSrc=Zn),function(n){if(n){var r="";for(var i in z.isNullOrUndefined(t._snippetVersion)||(r+=t._snippetVersion),e&&(r+=".lg"),t.properties.context.internal.snippetVer=r||"-",t)z.isString(i)&&!z.isFunction(t[i])&&"_"!==i.substring(0,1)&&(n[i]=t[i])}}(t.snippet),t.emptyQueue(),t.pollInternalLogs(),t.addHousekeepingBeforeUnload(this),t},e.prototype.updateSnippetDefinitions=function(e){for(var t in this)z.isString(t)&&(e[t]=this[t])},e.prototype.emptyQueue=function(){try{if(Ae.isArray(this.snippet.queue)){for(var e=this.snippet.queue.length,t=0;t<e;t++){(0,this.snippet.queue[t])()}this.snippet.queue=void 0,delete this.snippet.queue}}catch(n){n&&z.isFunction(n.toString)&&n.toString()}},e.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},e.prototype.addHousekeepingBeforeUnload=function(e){if(x()||S()){var t=function(){e.onunloadFlush(!1);var t=e.appInsights.core._extensions[mt];t&&t.context&&t.context._sessionManager&&t.context._sessionManager.backup()};if(!e.appInsights.config.disableFlushOnBeforeUnload){var n=z.addEventHandler("beforeunload",t);(n=z.addEventHandler("pagehide",t)||n)||function(){var e=w();return!(!e||!e.product)&&e.product===m}()||e.appInsights.core.logger.throwInternal(H.CRITICAL,K.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload and pagehide")}e.appInsights.config.disableFlushOnUnload||z.addEventHandler("pagehide",t)}},e.prototype.getSKUDefaults=function(){this.config.diagnosticLogInterval=this.config.diagnosticLogInterval&&this.config.diagnosticLogInterval>0?this.config.diagnosticLogInterval:1e4},e}();!function(){var e=null,t=["://az416426.vo.msecnd.net/"];try{var n=(document||{}).currentScript;n&&(e=n.src)}catch(o){}if(e)try{var r=e.toLowerCase();if(r)for(var i="",a=0;a<t.length;a++)if(-1!==r.indexof(t[a])){i="cdn"+(a+1),-1===r.indexOf("/scripts/")&&(-1!==r.indexOf("/next/")?i+="-next":-1!==r.indexOf("/beta/")&&(i+="-beta")),Zn=i+"";break}}catch(o){}}();var tr=function(){function e(t,n){this._hasLegacyInitializers=!1,this._queue=[],this.config=e.getDefaultConfig(t.config),this.appInsightsNew=n,this.context={addTelemetryInitializer:this.addTelemetryInitializers.bind(this)}}return e.getDefaultConfig=function(e){return e||(e={}),e.endpointUrl=e.endpointUrl||"https://dc.services.visualstudio.com/v2/track",e.sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.maxBatchSizeInBytes=e.maxBatchSizeInBytes>0?e.maxBatchSizeInBytes:102400,e.maxBatchInterval=isNaN(e.maxBatchInterval)?15e3:e.maxBatchInterval,e.enableDebug=Ae.stringToBoolOrDefault(e.enableDebug),e.disableExceptionTracking=Ae.stringToBoolOrDefault(e.disableExceptionTracking),e.disableTelemetry=Ae.stringToBoolOrDefault(e.disableTelemetry),e.verboseLogging=Ae.stringToBoolOrDefault(e.verboseLogging),e.emitLineDelimitedJson=Ae.stringToBoolOrDefault(e.emitLineDelimitedJson),e.diagnosticLogInterval=e.diagnosticLogInterval||1e4,e.autoTrackPageVisitTime=Ae.stringToBoolOrDefault(e.autoTrackPageVisitTime),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.disableAjaxTracking=Ae.stringToBoolOrDefault(e.disableAjaxTracking),e.maxAjaxCallsPerView=isNaN(e.maxAjaxCallsPerView)?500:e.maxAjaxCallsPerView,e.isBeaconApiDisabled=Ae.stringToBoolOrDefault(e.isBeaconApiDisabled,!0),e.disableCorrelationHeaders=Ae.stringToBoolOrDefault(e.disableCorrelationHeaders),e.correlationHeaderExcludedDomains=e.correlationHeaderExcludedDomains||["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],e.disableFlushOnBeforeUnload=Ae.stringToBoolOrDefault(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=Ae.stringToBoolOrDefault(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e.enableSessionStorageBuffer=Ae.stringToBoolOrDefault(e.enableSessionStorageBuffer,!0),e.isRetryDisabled=Ae.stringToBoolOrDefault(e.isRetryDisabled),e.isCookieUseDisabled=Ae.stringToBoolOrDefault(e.isCookieUseDisabled),e.isStorageUseDisabled=Ae.stringToBoolOrDefault(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=Ae.stringToBoolOrDefault(e.isBrowserLinkTrackingEnabled),e.enableCorsCorrelation=Ae.stringToBoolOrDefault(e.enableCorsCorrelation),e},e.prototype.addTelemetryInitializers=function(e){var t=this;this._hasLegacyInitializers||(this.appInsightsNew.addTelemetryInitializer((function(e){t._processLegacyInitializers(e)})),this._hasLegacyInitializers=!0),this._queue.push(e)},e.prototype.startTrackPage=function(e){this.appInsightsNew.startTrackPage(e)},e.prototype.stopTrackPage=function(e,t,n,r){this.appInsightsNew.stopTrackPage(e,t,n)},e.prototype.trackPageView=function(e,t,n,r,i){var a={name:e,uri:t,properties:n,measurements:r};this.appInsightsNew.trackPageView(a)},e.prototype.trackEvent=function(e,t,n){this.appInsightsNew.trackEvent({name:e})},e.prototype.trackDependency=function(e,t,n,r,i,a,o){this.appInsightsNew.trackDependencyData({id:e,target:n,type:r,duration:i,properties:{HttpMethod:t},success:a,responseCode:o})},e.prototype.trackException=function(e,t,n,r,i){this.appInsightsNew.trackException({exception:e})},e.prototype.trackMetric=function(e,t,n,r,i,a){this.appInsightsNew.trackMetric({name:e,average:t,sampleCount:n,min:r,max:i})},e.prototype.trackTrace=function(e,t,n){this.appInsightsNew.trackTrace({message:e,severityLevel:n})},e.prototype.flush=function(e){this.appInsightsNew.flush(e)},e.prototype.setAuthenticatedUserContext=function(e,t,n){this.appInsightsNew.context.user.setAuthenticatedUserContext(e,t,n)},e.prototype.clearAuthenticatedUserContext=function(){this.appInsightsNew.context.user.clearAuthenticatedUserContext()},e.prototype._onerror=function(e,t,n,r,i){this.appInsightsNew._onerror({message:e,url:t,lineNumber:n,columnNumber:r,error:i})},e.prototype.startTrackEvent=function(e){this.appInsightsNew.startTrackEvent(e)},e.prototype.stopTrackEvent=function(e,t,n){this.appInsightsNew.stopTrackEvent(e,t,n)},e.prototype.downloadAndSetup=function(e){throw new Error("downloadAndSetup not implemented in web SKU")},e.prototype.updateSnippetDefinitions=function(e){for(var t in this)"string"===typeof t&&(e[t]=this[t])},e.prototype.loadAppInsights=function(){var e=this;if(this.config.iKey){var t=this.trackPageView;this.trackPageView=function(n,r,i){t.apply(e,[null,n,r,i])}}"function"===typeof this.snippet.logPageView&&(this.logPageView=function(t,n,r){e.trackPageView(null,t,n,r)});return"function"===typeof this.snippet.logEvent&&(this.logEvent=function(t,n,r){e.trackEvent(t,n,r)}),this},e.prototype._processLegacyInitializers=function(e){return e.tags[Ue]=this._queue,e},e}(),nr=function(){function e(){}return e.getAppInsights=function(e,t){var n=new er(e),r=2!==t;if(2===t)return n.updateSnippetDefinitions(e),n.loadAppInsights(r),n;var i=new tr(e,n);return i.updateSnippetDefinitions(e),n.loadAppInsights(r),i},e}()},uMXR:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r="function",i="object",a="undefined",o="prototype",s="hasOwnProperty";function c(){return typeof globalThis!==a&&globalThis?globalThis:typeof self!==a&&self?self:typeof window!==a&&window?window:typeof e!==a&&e?e:null}function u(e){var t=Object.create;if(t)return t(e);if(null==e)return{};var n=typeof e;if(n!==i&&n!==r)throw new TypeError("Object prototype may only be an Object:"+e);function a(){}return a[o]=e,new a}var l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[s](n)&&(e[n]=t[n])})(e,t)};var f,p,d,h=c()||{};p=function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object[o][s].call(t,i)&&(e[i]=t[i]);return e},d=function(e,t){function n(){this.constructor=e}l(e,t),e[o]=null===t?u(t):(n[o]=t[o],new n)},(f=h).__assign=f.__assign||Object.assign||p,f.__extends=f.__extends||d,__assign=h.__assign,__extends=h.__extends}).call(this,n("yLpj"))},y3vd:function(e,t,n){"use strict";var r=n("pQr1");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("ZqbR"),a=r(n("q1tI")),o=(r(n("gwwX")),r(n("XVp1"))),s=function(e){var t=e.store,n=e.children;return a.default.createElement(i.Provider,{store:t},a.default.createElement(o.default,null,n))};s.propTypes={};var c=s;t.default=c},z20H:function(e,t,n){var r,i,a;i=[t,e],void 0===(a="function"===typeof(r=function(e,t){"use strict";var n={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function r(e){try{delete window[e]}catch(t){window[e]=void 0}}function i(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}t.exports=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=e,o=t.timeout||n.timeout,s=t.jsonpCallback||n.jsonpCallback,c=void 0;return new Promise((function(n,u){var l=t.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),f=s+"_"+l;window[l]=function(e){n({ok:!0,json:function(){return Promise.resolve(e)}}),c&&clearTimeout(c),i(f),r(l)},a+=-1===a.indexOf("?")?"?":"&";var p=document.createElement("script");p.setAttribute("src",""+a+s+"="+l),t.charset&&p.setAttribute("charset",t.charset),p.id=f,document.getElementsByTagName("head")[0].appendChild(p),c=setTimeout((function(){u(new Error("JSONP request to "+e+" timed out")),r(l),i(f),window[l]=function(){r(l)}}),o),p.onerror=function(){u(new Error("JSONP request to "+e+" failed")),r(l),i(f),c&&clearTimeout(c)}}))}})?r.apply(t,i):r)||(e.exports=a)}},[[2,3,5,8,9,0,4,10,2]]]);