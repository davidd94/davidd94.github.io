(window.webpackJsonp=window.webpackJsonp||[]).push([[188],{mvZB:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return F}));n("KKXr"),n("dRSK");var a=n("q1tI"),r=n.n(a),o=n("ZqbR"),u=n("nOHt"),i=n("HQnQ"),c=n("JRPe"),s=(n("bWfx"),n("XOff")),l=n.n(s),p=n("RMmg"),d=r.a.createElement,m=function(e){var t=e.handleFormatChange,n=e.productFormats,a=e.selectedFormat;return d("div",{className:"preparation-and-use__options"},n.map((function(e){var n=e.key;return d(p.Button,{onClick:function(){return t(n)},ariaLabel:n,key:n,className:l()("preparation-and-use__options-button",{"preparation-and-use__options-button--active":n===a})},d(p.DangerouslySetInnerHtml,{html:n}))})))},f=n("usVm"),b=r.a.createElement,v=function(e){var t=e.image,n=e.productTitle,a=e.prepMetafield;return b("div",{className:"preparation-and-use__content"},b("div",{className:"preparation-and-use__content-image"},b(f.default,{image:t})),b("div",{className:"preparation-and-use__content-container"},b(p.DangerouslySetInnerHtml,{className:"preparation-and-use__content-title",element:"h3",html:n}),b(p.DangerouslySetInnerHtml,{className:"preparation-and-use__content-text",html:a.value})))},g=r.a.createElement,h=function e(t){var n=t.handleFormatChange,a=t.selectedFormat,r=t.productFormats,o=t.prepMetafield,u=t.productTitle,i=t.image;return o&&i?g("div",{className:"preparation-and-use"},g("h2",{className:"preparation-and-use__header"},g(c.FormattedMessage,{id:"components.sk.components.shopify.preparationAndUse.header",defaultMessage:"Preparation and Use"})),g(e.Options,{handleFormatChange:n,selectedFormat:a,productFormats:r}),g(e.Content,{image:i,productTitle:u,prepMetafield:o})):null};h.Options=m,h.Content=v;var O=h,_=(n("9zWu"),r.a.createElement),j=function e(t){var n=t.productId,r=Object(o.useSelector)((function(e){return e.shopify})).products,c=r.find((function(e){return e.id===n})),s=Object(o.useSelector)((function(e){return Object(i.A)(e)(Object(u.useRouter)())}))||c,l=Object(a.useState)(s),p=l[0],d=l[1],m=Object(a.useState)(null),f=m[0],b=m[1],v=Object(a.useMemo)((function(){return Object(i.m)(s.metafields)}),[s]),g=Object(a.useMemo)((function(){return Object(i.o)(p.metafields).find((function(e){return"prep"===e.key}))}),[p]),h=Object(a.useMemo)((function(){return p&&p.images?{url:p.images[0].originalSrc,fallBackUrl:p.images[0].mobileSrc}:null}),[p]),O=Object(a.useMemo)((function(){return p.title}),[p]);Object(a.useEffect)((function(){var e=v.find((function(e){return"#"===e.value}));e&&b(e.key)}),[v]),Object(a.useEffect)((function(){var e=v.find((function(e){return e.key===f}));if(e){var t=e.value.split("/").pop(),n=t?t.split("?")[0]:null;if("#"===n)d(s);else{var a=r.find((function(e){return e.handle===n}));d(a)}}}),[f]);var j=Object(a.useCallback)((function(e){b(e)}),[]);return _(e.View,{handleFormatChange:j,selectedFormat:f,productFormats:v,prepMetafield:g,productTitle:O,image:h})};j.View=O;var F=j}}]);